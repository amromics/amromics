webpackJsonp([10],{"1erZ":function(t,e){},"8Hrj":function(t,e){},"9Keu":function(t,e){},"9p0C":function(t,e){},EEll:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App"},i,!1,function(t){a("ymcE")},null,null).exports,r=a("/ocq"),l=a("INCx"),o=a.n(l),h=a("Xxa5"),d=a.n(h),c=a("//Fk"),u=a.n(c),p=a("exGp"),_=a.n(p),g=a("bOdI"),m=a.n(g),f=a("Zrlr"),v=a.n(f),w=a("wxAW"),y=a.n(w),b=a("ikxi"),k=a.n(b),x=(a("+WEU"),function(){function t(e){v()(this,t),this.container=e,this.input=void 0,this.list_data=[],this.list_labels=[],this.props={width:1200,height:400,title:"N50 chart",background_color:"rgba(255, 99, 132, 0.6)",line_color:"rgb(54, 162, 235)",x_label:"Num contigs",y_label:"Sum length"}}return y()(t,[{key:"load",value:function(t){this.input=t,this.list_data=[],this.list_labels=[],this.sum=0;for(var e=0;e<this.input.length;e++)this.sum=this.sum+this.input[e].length,this.list_data.push(this.sum),this.list_labels.push(e+1)}},{key:"setOptions",value:function(t){this.props.width=t.width,this.props.height=t.height,void 0!=t.title&&(this.props.title=t.title),void 0!=t.background_color&&(this.props.background_color=t.background_color),void 0!=t.line_color&&(this.props.line_color=t.line_color),void 0!=t.x_label&&(this.props.x_label=t.x_label),void 0!=t.y_label&&(this.props.y_label=t.y_label)}},{key:"draw",value:function(){this.container.innerHTML="";var t=document.createElement("canvas");t.id="cv_chart",t.width=this.props.width,t.height=this.props.height,this.container.appendChild(t);var e={labels:this.list_labels,datasets:[{label:"Sum of length",data:this.list_data,backgroundColor:[this.props.background_color],borderColor:this.props.line_color,fill:!1}]};new k.a(t,{type:"line",data:e,options:{responsive:!0,title:{display:!0,text:this.props.title},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:this.props.x_label}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:this.props.y_label}}]},annotation:{annotations:[{type:"line",mode:"horizontal",scaleID:"y-axis-0",borderColor:"red",value:this.sum/2,label:{content:this.sum/2,enabled:!0}}]}}})}}]),t}()),C=a("vwbq"),E=function(){function t(e){v()(this,t),this.container=e,this.contigs=[],this.knowngenes=[],this.gc_skew=[],this.gc_content=void 0,this.gc_content_window=1e3,this.gc_content_step=100,this.props={width:1200,highlight:[{type:"AMR",color:"#A71D31"},{type:"VIR",color:"#0F5257"}],color:"#F3C366"},this.scale=.1,this.genUI()}return y()(t,[{key:"genUI",value:function(){this.container.innerHTML="",this.track_div=document.createElement("div"),this.track_div.id="track_div",this.track_div.style.width=this.props.width+"px",this.track_div.style.height="500px",this.track_div.style.padding="0px",this.track_div.style.margin="0px",this.track_div.style.float="left",this.track_div.style.overflowX="scroll";var t=document.createElement("div");t.style.width=this.props.width+"px",t.style.height="40px",t.style.padding="0px",t.style.margin="0px",t.style.borderBottom="1px solid #a6a6a6";var e=document.createElement("div");e.style.margin="10px",e.style.float="right";var a=document.createElement("button");a.style.backgroundImage="none",a.style.border="1px solid transparent",a.style.borderRadius="4px",a.textContent="+",a.addEventListener("click",this.zoomIn.bind(this));var n=document.createElement("button");n.style.backgroundImage="none",n.style.border="1px solid transparent",n.style.borderRadius="4px",n.textContent="-",n.addEventListener("click",this.zoomOut.bind(this));var i=document.createElement("div");i.style.margin="10px",i.style.float="left",this.contig_select=document.createElement("select"),this.contig_select.id="select_contig",this.contig_select.addEventListener("change",this.changeContigSelect.bind(this)),this.control_loading=document.createElement("div"),this.control_loading.style.margin="10px",this.control_loading.style.float="left",this.control_loading.innerText="",i.appendChild(this.contig_select),e.appendChild(n),e.appendChild(a),t.appendChild(e),t.appendChild(i),t.appendChild(this.control_loading);var s=document.createElement("div");s.style.width=this.props.width+"px",s.style.height="500px",s.style.padding="0px",s.style.margin="0px",s.appendChild(this.track_div);var r=document.createElement("div");r.style.width=this.props.width+"px",r.style.height="540px",r.style.border="1px solid gray",r.appendChild(t),r.appendChild(s),this.container.appendChild(r)}},{key:"load",value:function(t,e,a,n){this.contigs=t,this.knowngenes=e,this.gc_skew=a,this.gc_content=n,console.log(this.knowngenes);for(var i=0;i<this.contigs.length;i++){var s=document.createElement("option");s.appendChild(document.createTextNode(this.contigs[i].name)),s.value=this.contigs[i].name,document.getElementById("select_contig").add(s)}this.current_contig=this.contigs[0]}},{key:"setOptions",value:function(t){this.props.width=t.width,void 0!=t.highlight&&(this.props.highlight=t.highlight),void 0!=t.color&&(this.props.color=t.color),this.genUI(),this.load(this.contigs,this.knowngenes,this.gc_skew,this.gc_content)}},{key:"draw",value:function(){this.drawContig(),this.drawKnowgenes(),this.drawSkew(),this.drawContent()}},{key:"drawContig",value:function(){var t=this.props.width,e=20,a=C.i("#track_div").append("svg").attr("width",t>this.current_contig.length*this.scale?t:this.current_contig.length*this.scale).attr("height",40),n=a.append("g").attr("transform","translate(0,"+e+")");n.append("rect").attr("x",0).attr("y",10).attr("width",t).attr("height",20).style("fill","#EEE"),n.append("rect").attr("x",0).attr("y",0).attr("width",this.current_contig.length*this.scale).attr("height",20).attr("rx",10).style("stroke",function(t){return C.f("#999").darker()}).style("fill","#AAA"),n.append("text").attr("x",10).attr("y",15).text(this.current_contig.name);var i=C.h().range([0,this.current_contig.length*this.scale]).domain([100,this.current_contig.length]),s=C.c(i).ticks(this.current_contig.length*this.scale/100);a.append("g").attr("transform","translate(0,"+e+")").call(s)}},{key:"drawKnowgenes",value:function(){for(var t=[],e=0;e<this.knowngenes.length;e++)this.knowngenes[e].contig==this.current_contig.name&&t.push({contig:this.knowngenes[e].contig,start:this.knowngenes[e].start,end:this.knowngenes[e].end,name:this.knowngenes[e].name,strain:this.knowngenes[e].strain,type:this.knowngenes[e].type,product:this.knowngenes[e].product});var a=this.props.width,n=C.i("#track_div").append("svg").attr("width",a>this.current_contig.length*this.scale?a:this.current_contig.length*this.scale).attr("height",150).append("g").attr("transform","translate(0,0)");n.append("text").attr("x",10).attr("y",15).text("Genes");var i=C.i("#track_div").append("div").style("opacity",0).attr("class","tooltip").style("position","relative").style("width","300px").style("font-size","small").style("background-color","white").style("border","solid").style("border-color","#666").style("border-width","1px").style("border-radius","5px").style("padding","5px"),s=function(t){i.style("opacity",1),C.i(this).style("stroke","black").style("opacity",1)},r=function(t){i.html(t.start+" ->"+t.end+":"+t.name+"<br><b>Type</b>: "+t.type+"<br/><b>Product</b>:"+t.product).style("left",C.e(this)[0]+20+"px").style("top",C.e(this)[1]-100+"px")},l=function(t){console.log("mouse leave"),i.style("opacity",0),C.i(this).style("stroke","white")};n.append("rect").attr("x",0).attr("y",0).attr("width",a>this.current_contig.length*this.scale?a:this.current_contig.length*this.scale).attr("height",2).style("fill","#EEE");for(e=0;e<t.length;e++)this.drawGeneBlock(e,t[e],n,t[e].start*this.scale,t[e].end*this.scale,t[e].strain,t[e].name,this.props.color,s,r,l)}},{key:"drawGeneBlock",value:function(t,e,a,n,i,s,r,l,o,h,d){var c=t%4+1;"+"==s?a.append("polygon").datum(e).attr("points",n+","+(10+20*c)+" "+(n+10)+","+(20+20*c)+" "+i+","+(20+20*c)+" "+i+","+(0+20*c)+" "+(n+10)+","+(0+20*c)).style("fill",l).on("mouseover",o).on("mousemove",h).on("mouseleave",d):a.append("polygon").datum(e).attr("points",n+","+(0+20*c)+" "+n+","+(20+20*c)+" "+(i-10)+","+(20+20*c)+" "+i+","+(10+20*c)+" "+(i-10)+","+(0+20*c)).style("fill",l).on("mouseover",o).on("mousemove",h).on("mouseleave",d),a.append("text").attr("text-anchor","start").attr("x",i+5).attr("y",15+20*c).text(r)}},{key:"drawSkew",value:function(){for(var t=[],e=0,a=0;a<this.gc_skew.length;a++)if(this.gc_skew[a].contig.split(" ")[0]==this.current_contig.name)for(var n=0,i=0;i<this.gc_skew[a].GC.length;i++)e<(n+=this.gc_skew[a].GC[i])&&(e=n),t.push({contig:this.gc_skew[a].contig.split(" ")[0],position:100*i,value:this.gc_skew[a].GC[i],cum:n});var s=this.props.width,r=C.i("#track_div").append("svg").attr("width",s>this.current_contig.length*this.scale?s:this.current_contig.length*this.scale).attr("height",150).append("g").attr("transform","translate(0,30)");r.append("text").attr("x",10).attr("y",-10).text("GC skew");var l=t[0];for(a=1;a<t.length;a++)this.drawSkewLine(r,t[a].position*this.scale,100*this.scale,t[a],l,e),l=t[a];r.append("line").attr("x1",0).attr("y1",50).attr("x2",100*(t.length+10)*this.scale).attr("y2",50).style("stroke","#0C4524").style("stroke-width",1),r.append("line").attr("x1",0).attr("y1",0).attr("x2",100*(t.length+10)*this.scale).attr("y2",0).style("stroke-dasharray","5,3").style("stroke","#0C4524").style("stroke-width",1),r.append("line").attr("x1",0).attr("y1",100).attr("x2",100*(t.length+10)*this.scale).attr("y2",100).style("stroke-dasharray","5,3").style("stroke","#0C4524").style("stroke-width",1),r.append("text").attr("x",0).attr("y",10).text("1"),r.append("text").attr("x",0).attr("y",100).text("-1")}},{key:"drawSkewLine",value:function(t,e,a,n,i,s){t.append("line").attr("x1",e-a).attr("y1",50-50*i.value).attr("x2",e).attr("y2",50-50*n.value).style("fill","#0C4524").style("stroke","black").style("stroke-width",1)}},{key:"drawContent",value:function(){for(var t=[],e=0;e<this.gc_content.length;e++)if(this.gc_content[e].contig.split(" ")[0]==this.current_contig.name)for(var a=0;a<this.gc_content[e].GC.length;a++)t.push({contig:this.gc_content[e].contig.split(" ")[0],position:100*a,value:100*this.gc_content[e].GC[a]});var n=this.props.width,i=C.i("#track_div").append("svg").attr("width",n>this.current_contig.length*this.scale?n:this.current_contig.length*this.scale).attr("height",120).append("g").attr("transform","translate(0,30)");i.append("text").attr("x",10).attr("y",-10).text("GC content");var s=t[0].value;for(e=0;e<t.length;e++)this.drawContentLine(i,t[e].position*this.scale,100*this.scale,t[e].value,s),s=t[e].value;i.append("line").attr("x1",0).attr("y1",150).attr("x2",100*(t.length+10)*this.scale).attr("y2",150).style("stroke","#0C4524").style("stroke-width",1),i.append("line").attr("x1",0).attr("y1",0).attr("x2",100*(t.length+10)*this.scale).attr("y2",0).style("stroke-dasharray","5,3").style("stroke","#0C4524").style("stroke-width",1),i.append("line").attr("x1",0).attr("y1",75).attr("x2",100*(t.length+10)*this.scale).attr("y2",75).style("stroke-dasharray","5,3").style("stroke","#0C4524").style("stroke-width",1),i.append("text").attr("x",0).attr("y",75).text("50%"),i.append("text").attr("x",0).attr("y",10).text("100%")}},{key:"drawContentLine",value:function(t,e,a,n,i){t.append("line").attr("x1",e-a).attr("y1",150-1.5*i).attr("x2",e).attr("y2",150-1.5*n).style("fill","#0C4524").style("stroke","black").style("stroke-width",1)}},{key:"drawAgain",value:function(){this.control_loading.innerText="Loading...",this.track_div.innerHTML="",this.drawContig(),this.drawKnowgenes(),this.drawSkew(),this.drawContent(),this.control_loading.innerText=""}},{key:"changeContigSelect",value:function(){if(void 0!=this.contigs){for(var t=0;t<this.contigs.length;t++)if(this.contigs[t].name==this.contig_select.value){this.current_contig=this.contigs[t];break}this.drawAgain()}}},{key:"changeContig",value:function(t){for(var e=0;e<this.contigs.length;e++)if(this.contigs[e].name==t){this.current_contig=this.contigs[e];break}this.contig_select.value=t,this.drawAgain()}},{key:"zoomIn",value:function(){this.scale<1&&(this.scale=this.scale+.01),this.drawAgain()}},{key:"zoomOut",value:function(){this.scale>.01&&(this.scale=this.scale-.01),this.drawAgain()}},{key:"locatePosition",value:function(t){var e=t*this.scale;this.track_div.scrollLeft=e-this.props.width/2}}]),t}(),A=a("lHA8"),z=a.n(A),D=a("tPkG"),j=a.n(D),R=function(){function t(e){v()(this,t),this.container=e,this.container_id=this.container.id,this.props={width:300,height:300};var a=document.createElement("div"),n=[{label:"AMR gene",color:"#fd6a62"},{label:"Virulome gene",color:"#bebada"},{label:"GC skew",color:"black"}];for(var i in n){var s=document.createElement("div");s.style.width="20px",s.style.height="20px",s.style.float="left",s.style.marginRight="3px",s.style.backgroundColor=n[i].color;var r=document.createElement("div");r.innerHTML=n[i].label,r.style.float="left";var l=document.createElement("div");l.style.float="left",l.style.marginRight="20px",l.style.marginTop="10px",l.appendChild(s),l.appendChild(r),a.appendChild(l)}this.circos_container=document.createElement("div"),this.circos_container.id="circos_view",this.container.appendChild(this.circos_container),this.container.appendChild(a)}return y()(t,[{key:"load",value:function(t,e,a,n){this.contigs=t;var i=new z.a;this.amr_data=[];for(var s=0;s<e.length;s++)this.amr_data.push({block_id:e[s].sequence,start:e[s].start,end:e[s].end,label:e[s].gene}),i.add(e[s].sequence);this.vir_data=[];for(s=0;s<a.length;s++)this.vir_data.push({block_id:a[s].sequence,start:a[s].start,end:a[s].end,label:a[s].gene}),i.add(a[s].sequence);this.skew_data=[];for(s=0;s<n.length;s++)if(i.has(n[s].contig.split(" ")[0]))for(var r=0;r<n[s].GC.length;r++)this.skew_data.push({block_id:n[s].contig.split(" ")[0],position:100*r+1e3,value:n[s].GC[r]});this._contig=[];for(s=0;s<this.contigs.length;s++){var l=this.contigs[s].name.split(" ")[0];i.has(l)&&this._contig.push({len:this.contigs[s].length,color:"#bc80bd",label:l.split("_")[1],id:l})}}},{key:"setOptions",value:function(t){this.props.width=t.width,this.props.height=t.height}},{key:"draw",value:function(){var t=this.container;this._circos=new j.a({container:"#"+this.circos_container.id,width:this.props.width,height:this.props.height});var e=this.props.width/100,a={innerRadius:40*e,outerRadius:45*e,cornerRadius:3,gap:.02,labels:{display:!0,position:"center",size:"10px",color:"#333333",radialOffset:30},ticks:{display:!1,color:"grey",spacing:1e7,labels:!0,labelSpacing:10,labelDenominator:1e6,labelDisplay0:!0,labelSize:"10px",labelColor:"#000000",labelFont:"default",majorSpacing:5,size:{minor:2,major:5}},tooltipContent:function(t,e){return console.log(t),"<h5>"+t.label+"</h5>"},events:{"click.alert":function(e,a,n,i){t.dispatchEvent(new CustomEvent("contig_select",{detail:e.id})),n[a].childNodes[0].setAttribute("style","fill: #7c417c")},mouseover:function(t,e,a,n){a[e].childNodes[0].setAttribute("style","fill: #9d529e")},mouseleave:function(t,e,a,n){a[e].childNodes[0].setAttribute("style","fill: #bc80bd")}}},n={innerRadius:.7,outerRadius:.8,min:null,max:null,color:"#fd6a62",strokeColor:"#fd6a62",strokeWidth:1,direction:"out",thickness:10*e,radialMargin:2,margin:2,opacity:1,logScale:!1,tooltipContent:function(t){return"<div>"+t.label+"</div><i>Click to locate on browser</i>"},events:{"click.alert":function(e,a,n,i){t.dispatchEvent(new CustomEvent("element_select",{detail:{contig:e.block_id,pos:o()((parseInt(e.start)+parseInt(e.end))/2)}}))}}},i={innerRadius:.55,outerRadius:.65,min:null,max:null,color:"#bebada",strokeColor:"#bebada",strokeWidth:1,direction:"out",thickness:10*e,radialMargin:2,margin:2,opacity:1,logScale:!1,tooltipContent:function(t){return""+t.label},events:{"click.alert":function(e,a,n,i){t.dispatchEvent(new CustomEvent("element_select",{detail:{contig:e.block_id,pos:o()((parseInt(e.start)+parseInt(e.end))/2)}}))}}};this._circos.layout(this._contig,a),this._circos.stack("stack1",this.amr_data,n),this._circos.stack("stack2",this.vir_data,i),this._circos.line("line1",this.skew_data,{innerRadius:.8,outerRadius:.95,min:null,max:null,color:"black",strokeColor:"black",strokeWidth:1,direction:"out",opacity:1,logScale:!0,axes:[{color:"blue",position:1e-8,thickness:1,opacity:.5}],events:{}}),this._circos.render()}}]),t}(),T=function(){function t(e){v()(this,t),this.container=e,this.props={width:800,height:400};var a=document.createElement("canvas");a.id="pie_canvas",a.width=this.props.width,a.height=this.props.height,this.container.appendChild(a)}return y()(t,[{key:"load",value:function(t){for(var e=[],a=[],n=0;n<t.length;n++)t[n].num>0&&(e.push(t[n].num),a.push(t[n].name+t[n].des));this.data={datasets:[{data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}],labels:a}}},{key:"setOptions",value:function(t){this.props.width=t.width,this.props.height=t.height,this.container.innerHTML="";var e=document.createElement("canvas");e.id="pie_canvas",e.width=this.props.width,e.height=this.props.height,this.container.appendChild(e)}},{key:"draw",value:function(){var t=document.getElementById("pie_canvas");new k.a(t,{type:"pie",data:this.data,options:{responsive:!0}})}}]),t}(),S=function(){function t(e){v()(this,t),this.container=e,this.props={width:800,height:400};var a=document.createElement("canvas");a.id="distribution_canvas",a.width=this.props.width,a.height=this.props.height,this.container.appendChild(a)}return y()(t,[{key:"load",value:function(t){for(var e=[],a=[],n=0;n<t.length;n++)e.push(parseInt(t[n].noisolates)),a.push(t[n].id);this.data={datasets:[{label:"Gene count distribution",data:e,backgroundColor:["rgba(255, 99, 132, 0.6)"],borderColor:["rgba(255, 99, 132, 0.2)"]}],labels:a}}},{key:"setOptions",value:function(t){this.props.width=t.width,this.props.height=t.height,this.container.innerHTML="";var e=document.createElement("canvas");e.id="distribution_canvas",e.width=this.props.width,e.height=this.props.height,this.container.appendChild(e)}},{key:"draw",value:function(){var t=document.getElementById("distribution_canvas");new k.a(t,{type:"line",data:this.data,options:{responsive:!0}})}}]),t}(),L=a("fZjL"),F=a.n(L),I=a("bKau"),G=a.n(I),N=function(){function t(e){v()(this,t),this.container=e,this.props={width:800,height:800,color:"#000"};var a=document.createElement("div");a.style.width="100%",a.style.height="40px",a.style.padding="0px",a.style.margin="0px",a.style.borderBottom="1px solid #aaa";var n=document.createElement("div");n.style.float="right",this.type_select=document.createElement("select"),this.type_select.style.border="1px solid #aaa",this.type_select.style.borderRadius="3px",this.type_select.style.padding="4px",this.type_select.style.backgroundColor="transparent";var i=document.createElement("option");i.appendChild(document.createTextNode("Rectangular")),i.value="rectangular",this.type_select.appendChild(i);var s=document.createElement("option");s.appendChild(document.createTextNode("Radial")),s.value="radial",this.type_select.appendChild(s);var r=document.createElement("option");r.appendChild(document.createTextNode("Circular")),r.value="circular",this.type_select.appendChild(r);var l=document.createElement("option");l.appendChild(document.createTextNode("Diagonal")),l.value="diagonal",this.type_select.appendChild(l);var o=document.createElement("option");o.appendChild(document.createTextNode("Hierarchical")),o.value="hierarchical",this.type_select.appendChild(o),this.type_select.addEventListener("change",this.changeType.bind(this)),n.appendChild(this.type_select),this.meta_select=document.createElement("select"),this.meta_select.style.border="1px solid #aaa",this.meta_select.style.borderRadius="3px",this.meta_select.style.padding="4px",this.meta_select.style.backgroundColor="transparent";var h=document.createElement("option");h.appendChild(document.createTextNode("Select metadata")),h.value="",this.meta_select.appendChild(h),a.appendChild(this.meta_select),a.appendChild(n),this.container.appendChild(a);var d=document.createElement("div");d.id="phy_tree",d.style.height=this.props.height+"px",this.container.appendChild(d),this.legend_container=document.createElement("div"),this.container.appendChild(this.legend_container),this.type="rectangular"}return y()(t,[{key:"load",value:function(t,e){this.newick_tree=t,this.metadata=e,this.columns=[],this.metadata_style={};var a=["green","red","yellow","peru","chocolate","pink","#C83200","#CD3700","#FF6103","#CC7722","#FD6302","#883000","#FFBF00","gold","#CF9812A","coral","pumpkin","tomato","brown","vermilion","orange red","orange","crimson","dark red","hot pink","smitten","magenta","indigo","blue violet"];for(var n in this.metadata)for(var i in this.metadata[n])this.columns.includes(i)||(this.columns.push(i),this.metadata_style[i]={}),this.metadata[n][i]in this.metadata_style[i]||(this.metadata_style[i][this.metadata[n][i]]="",""!=this.metadata[n][i]?(this.metadata_style[i][this.metadata[n][i]]=a[F()(this.metadata_style[i]).indexOf(this.metadata[n][i])],F()(this.metadata_style[i]).indexOf(this.metadata[n][i])>a.length&&(this.metadata_style[i][this.metadata[n][i]]="#"+(Math.random().toString(16)+"000000").substring(2,8))):this.metadata_style[i][this.metadata[n][i]]="black");for(var i in this.columns){var s=document.createElement("option");s.appendChild(document.createTextNode(this.columns[i])),s.value=this.columns[i],this.meta_select.appendChild(s)}this.meta_select.addEventListener("change",this.changeMeta.bind(this))}},{key:"setOptions",value:function(t,e){this.props.width=t.width,this.props.height=t.height,this.metadata_style=e}},{key:"draw",value:function(){document.getElementById("phy_tree").innerHTML="",this.tree=G.a.createTree("phy_tree"),this.tree.branchColour=this.props.color,this.tree.collapsedColour=this.props.color,this.tree.alignLabels=!0,this.tree.setNodeSize(20),this.tree.setTextSize(20),this.tree.lineWidth=1,this.tree.setTreeType(this.type),console.log(this.newick_tree),this.tree.showBootstrap=!0,this.tree.showInternalNodeLabels=this.tree.showBootstrap,this.tree.internalLabelStyle.colour=this.tree.branchColour,this.tree.internalLabelStyle.font=this.tree.font,this.tree.internalLabelStyle.textSize=this.tree.textSize/2,this.tree.load(this.newick_tree)}},{key:"changeType",value:function(){this.type=this.type_select.value,this.draw(),""!=this.meta_select.value&&this.colorLeaves(this.meta_select.value)}},{key:"changeMeta",value:function(){var t=this.meta_select.value;this.colorLeaves(t)}},{key:"colorLeaves",value:function(t){for(var e=0;e<this.tree.leaves.length;e++){var a=this.tree.leaves[e].id.replace(/\'/g,"");this.tree.leaves[e].setDisplay({colour:this.metadata_style[t][this.metadata[a][t]],shape:"circle",size:1,leafStyle:{strokeStyle:"#000000",fillStyle:this.metadata_style[t][this.metadata[a][t]],lineWidth:1},labelStyle:{colour:this.metadata_style[t][this.metadata[a][t]],textSize:20,font:"Arial",format:"bold"}})}for(var n in this.tree.draw(),this.legend_container.innerHTML="",this.metadata_style[t]){var i=document.createElement("div");i.style.width="20px",i.style.height="20px",i.style.float="left",i.style.marginRight="3px",i.style.backgroundColor=this.metadata_style[t][n];var s=document.createElement("div");s.innerHTML=""==n?"undefined":n,s.style.float="left";var r=document.createElement("div");r.style.float="left",r.style.marginRight="20px",r.style.marginTop="10px",r.appendChild(i),r.appendChild(s),this.legend_container.appendChild(r)}this.legend_container.style.height="100px"}}]),t}(),U=a("7uhr"),B=function(){function t(e){v()(this,t),this.container=e,this.props={width:this.container.clientWidth,height:400};var a=document.createElement("div");a.id="ph_treeview",a.style.width=this.props.width/5+"px",a.style.float="left";var n=document.createElement("div");n.id="ph_heatmapview",n.style.width=this.props.width-this.props.width/5+"px",n.style.float="left",n.style.overflowX="scroll",n.style.position="relative",this.container.appendChild(a),this.container.appendChild(n),this.active_names=[],this.cell_size=20}return y()(t,[{key:"load",value:function(t,e){this.hits=e;var a=30,n=30,i=U.NewickTools.parse(t),s=0,r=F()(U.NewickTools.dfs(i));for(var l in r)s+=r[l].length;var o=s/r.length*5+10,h=this.props.width/5-n-a-o,d=C.d(i,function(t){return t.branchset}),c=[];d.height=0,c.push(d);var u=0,p=0,_=0,g=0;for(this.node_leaf=[],this.arr_sample_from_tree=[];c.length>0;){if((y=c.pop()).id=_,_++,void 0!=y.children)for(var m=0;m<y.children.length;m++)c.push(y.children[m]),y.children[m].height=y.height+y.children[m].data.length;else y.height>u&&(u=y.height),y.depth>p&&(p=y.depth),this.node_leaf.push(y),this.arr_sample_from_tree.push(y.data.name.replace(/\'/g,"")),g++}var f=g*this.cell_size;this.container.style.height=f+100+"px";var v=h/p;for((c=[]).push(d),_=0,d.ay=0;c.length>0;){if(void 0!=(y=c.pop()).children){for(m=0;m<y.children.length;m++)c.push(y.children[m]);y.ay=y.depth*v}else y.ax=_*f/g,_++,y.ay=p*v}for(var w=p;w>=0;w--)for((c=[]).push(d);c.length>0;){var y;if(void 0!=(y=c.pop()).children)for(m=0;m<y.children.length;m++)c.push(y.children[m]),y.depth==w&&(y.ax=(y.children[0].ax+y.children[1].ax)/2)}var b=C.j().size([f,h]);this.fnodes=b(d),this.genes=[];for(m=0;m<this.hits.length;m++)this.genes.includes(this.hits[m].gene)||this.genes.push(this.hits[m].gene)}},{key:"setOptions",value:function(t){this.props.width=t.width,this.props.height=t.height}},{key:"drawTree",value:function(){var t=this.active_names;document.getElementById("ph_treeview").innerHTML="";var e=30,a=30,n=60,i=30,s=this.props.width/5,r=this.node_leaf.length*this.cell_size,l=this.cell_size,o=C.i("#ph_treeview").append("svg").attr("width",s).attr("height",this.cell_size*this.node_leaf.length+e+n),h=o.append("g").attr("transform","translate("+i+","+(e+l/2)+")");this.graphic_tree=h;h.selectAll(".link").data(this.fnodes.descendants().slice(1)).enter().append("path").attr("class","link").style("stroke","black").style("fill","none").attr("d",function(t){return"M"+t.ay+","+t.ax+"L"+t.parent.ay+","+t.ax+" "+t.parent.ay+","+t.parent.ax}),t=this.active_names,h.selectAll(".node").data(this.fnodes.descendants()).enter().append("g").attr("class",function(e){return"node"+(e.children?" node--internal":" node--leaf")+(t.includes(e.data.name.replace(/\'/g,""))?" node--active":"")}).attr("transform",function(t){return"translate("+t.ay+","+t.ax+")"}),h.selectAll(".node--leaf").append("circle").attr("r",2).style("stroke","black").style("fill","black"),h.selectAll(".node--active").append("circle").attr("r",5).style("stroke","blue").style("fill","none"),h.selectAll(".connector").data(this.node_leaf).enter().append("path").attr("class","connector").attr("d",function(t){return"M"+t.ay+","+t.ax+"L"+(s+a)+","+t.ax});var d=this.arr_sample_from_tree.slice();d.reverse();var c=C.g().range([r,0]).domain(d).padding(.01);o.append("g").attr("transform","translate("+this.props.width/5+","+e+")").call(C.b(c))}},{key:"drawHeatmap",value:function(){var t=30,e=100,a=0,n=this.node_leaf.length*this.cell_size,i=this.genes.length*this.cell_size;document.getElementById("ph_heatmapview").innerHTML="";for(var s=C.i("#ph_heatmapview").append("svg").attr("width",i).attr("height",n+t+e).append("g").attr("transform","translate("+a+","+t+")"),r=C.g().range([0,this.genes.length*this.cell_size]).domain(this.genes).padding(.01),l=this.active_names,o=new z.a,h=0;h<this.hits.length;h++)l.includes(this.hits[h].sample)&&o.add(this.hits[h].gene);s.append("g").attr("transform","translate(0,"+n+") ").call(C.a(r)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".25em").attr("transform","rotate(-65)").style("font-weight",function(t){return o.has(t)?"bold":"normal"}),l=this.active_names;var d=this.arr_sample_from_tree.slice();d.reverse();var c=C.g().range([n,0]).domain(d).padding(.01),u=C.i("#ph_heatmapview").append("div").style("opacity",0).attr("class","tooltip").style("position","absolute").style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px");s.selectAll().data(this.hits,function(t){return t.sample+":"+t.gene}).enter().append("rect").attr("x",function(t){return r(t.gene)}).attr("y",function(t){return c(t.sample)}).attr("width",r.bandwidth()).attr("height",c.bandwidth()).style("fill",function(t){return l.includes(t.sample)?"#6E1214":"#DD2429"}).style("stroke","white").on("mouseover",function(t){u.style("opacity",1),C.i(this).style("stroke","black").style("opacity",1)}).on("mousemove",function(t){u.html(t.gene+" in "+t.sample+"<br>Identity: "+t.identity+"<br>"+("amr"==t.type?t.class:t.product)).style("left",C.e(this)[0]+70+"px").style("top",C.e(this)[1]+"px")}).on("mouseleave",function(t){u.style("opacity",0),C.i(this).style("stroke","white")})}},{key:"setActiveNames",value:function(t){this.active_names=t,this.draw()}},{key:"draw",value:function(){this.drawTree(),this.drawHeatmap()}}]),t}(),O=a("BO1k"),H=a.n(O),Z=a("j9JH"),M=a.n(Z),P=a("Gu7T"),V=a.n(P),W=function(){function t(e){v()(this,t),this.container=e,this.props={width:this.container.clientWidth,height:400},this.treeview=document.createElement("div"),this.treeview.id="al_treeview",this.treeview.style.width=this.props.width/5+"px",this.treeview.style.height=this.props.height+"px",this.treeview.style.float="left",this.alignmentview=document.createElement("div"),this.alignmentview.id="al_alignment",this.alignmentview.style.width=this.props.width-this.props.width/5+"px",this.alignmentview.style.height=this.props.height+"px",this.alignmentview.style.float="left",this.alignmentview.style.overflowX="scroll";var a=document.createElement("div");a.style.width=this.props.width+"px",a.style.height="40px",a.style.padding="0px",a.style.margin="0px",a.style.borderBottom="1px solid #a6a6a6";var n=document.createElement("div");n.style.margin="10px",n.style.float="right";var i=document.createElement("button");i.style.backgroundImage="none",i.style.border="1px solid transparent",i.style.borderRadius="4px",i.textContent="+",i.addEventListener("click",this.zoomIn.bind(this));var s=document.createElement("button");s.style.backgroundImage="none",s.style.border="1px solid transparent",s.style.borderRadius="4px",s.textContent="-",s.addEventListener("click",this.zoomOut.bind(this)),n.appendChild(s),n.appendChild(i),a.appendChild(n),this.control_gene=document.createElement("div"),this.control_gene.style.margin="10px",this.control_gene.style.float="left",a.appendChild(this.control_gene);var r=document.createElement("div");this.control_gene.style.margin="10px",this.control_gene.style.float="right";var l=document.createElement("input");l.setAttribute("type","checkbox"),l.setAttribute("id","ch_length"),l.setAttribute("name","ch_length"),l.setAttribute("checked","true"),l.setAttribute("value","display"),l.addEventListener("change",this.onChangeViewBranchLenght.bind(this)),r.appendChild(l);var o=document.createElement("label");o.innerHTML="Display branch lenght",r.appendChild(o);var h=document.createElement("input");h.setAttribute("type","radio"),h.setAttribute("name","view"),h.setAttribute("value","nucl"),h.setAttribute("checked","true"),h.addEventListener("change",this.onChangeType.bind(this));var d=document.createElement("label");d.innerHTML="Nucleotide",r.appendChild(h),r.appendChild(d);var c=document.createElement("input");c.setAttribute("type","radio"),c.setAttribute("name","view"),c.setAttribute("value","prot"),c.addEventListener("change",this.onChangeType.bind(this));var u=document.createElement("label");u.innerHTML="Protein",r.appendChild(c),r.appendChild(u),a.appendChild(r),this.container.appendChild(a),this.container.appendChild(this.treeview),this.container.appendChild(this.alignmentview),this.zoom_lv=3,this.current_type="nucl",this.active_names=[],this.display_branch_length=!0}return y()(t,[{key:"load",value:function(t,e,a,n,i){this.control_gene.innerHTML=t,this.samples=a,this.phylotree=e,this.genelabel=t,this.mlst=i,this.pos=[],this.data=[];var s=[],r=0,l=[];if("nucl"==this.current_type)for(var o=0;o<this.samples.length;o++){var h=[].concat(V()(this.samples[o].seq));s.push(this.samples[o].sample),l.push({name:this.samples[o].sample}),r=h.length>r?h.length:r;for(var d=0;d<h.length;d++)this.data.push({sample:this.samples[o].sample,pos:d+1,value:h[d],type:"nucl"})}else for(o=0;o<this.samples.length;o++){var c=this.samples[o].protein;h=[].concat(V()(c));s.push(this.samples[o].sample),l.push({name:this.samples[o].sample}),r=h.length>r?h.length:r;for(d=0;d<h.length;d++)this.data.push({sample:this.samples[o].sample,pos:d+1,value:h[d],type:"prot"})}for(o=1;o<=r;o++)this.pos.push(o);var u=30,p=30,_=30,g=30,m=(this.pos.length,30*s.length+u+_),f=e,v=U.NewickTools.parse(f),w=0,y=F()(U.NewickTools.dfs(v));for(var b in y)w+=y[b].length;var k=w/y.length*5+10,x=this.props.width/5-g-p-k,E=C.j().size([m,x]),A=C.d(v,function(t){return t.branchset}),z=[];A.height=0,z.push(A);var D=0,j=1,R=0,T=0;for(this.node_leaf=[],this.arr_sample_from_tree=[];z.length>0;){if((I=z.pop()).id=T,T++,void 0!=I.children)for(o=0;o<I.children.length;o++)z.push(I.children[o]),I.children[o].height=I.height+I.children[o].data.length;else I.height>D&&(D=I.height),I.height<j&&I.height>0&&(j=I.height),I.depth>R&&(R=I.depth),this.node_leaf.push(I),this.arr_sample_from_tree.push(I.data.name.replace(/\'/g,"")),0}var S=x/R;for((z=[]).push(A),T=0,A.ay=0;z.length>0;){if(void 0!=(I=z.pop()).children){for(o=0;o<I.children.length;o++)z.push(I.children[o]);I.ay=I.depth*S}else I.ax=30*T,T++,I.ay=R*S;this.display_branch_length&&(I.ay=this.logscale(j,D,x,I.height))}for(var L=R;L>=0;L--)for((z=[]).push(A);z.length>0;){var I;if(void 0!=(I=z.pop()).children)for(o=0;o<I.children.length;o++)z.push(I.children[o]),I.depth==L&&(I.ax=(I.children[0].ax+I.children[1].ax)/2)}this.fnodes=E(A)}},{key:"logscale",value:function(t,e,a,n){if(0==n)return 0;var i=Math.pow(10,-M()(t));return e*=i,n*=i,a/M()(e)*M()(n)}},{key:"setOptions",value:function(t){this.props.width=t.width,this.props.height=t.height}},{key:"setActiveNames",value:function(t){this.active_names=t,this.drawHighlighTree()}},{key:"draw",value:function(){var t=20,e=2;2==this.zoom_lv&&(t=10,e=5),1==this.zoom_lv&&(t=5,e=10);var a=30,n=30,i=30,s=30,r=t*this.pos.length+s+n,l=30*this.arr_sample_from_tree.length+a+i;this.alignmentview.innerHTML="",this.alignmentview.style.height=l+20+"px",this.treeview.style.height=l+20+"px",this.container.style.height=l+80+"px",document.getElementById(this.treeview.id).innerHTML="";var o=C.i("#"+this.treeview.id).append("svg").attr("width",this.props.width/5).attr("height",30*this.node_leaf.length+a+i),h=o.append("g").attr("transform","translate("+s+","+(a+15)+")");this.graphic_tree=h;h.selectAll(".link").data(this.fnodes.descendants().slice(1)).enter().append("path").attr("class","link").style("stroke","black").style("fill","none").attr("d",function(t){return"M"+t.ay+","+t.ax+"L"+t.parent.ay+","+t.ax+" "+t.parent.ay+","+t.parent.ax});var d=this.active_names,c=(h.selectAll(".node").data(this.fnodes.descendants()).enter().append("g").attr("class",function(t){return"node"+(t.children?" node--internal":" node--leaf")+(d.includes(t.data.name.replace(/\'/g,""))?" node--active":"")}).attr("transform",function(t){return"translate("+t.ay+","+t.ax+")"}),h.selectAll(".node--leaf").append("circle").attr("r",2).style("stroke","black").style("fill","black"),h.selectAll(".node--active").append("circle").attr("r",5).style("stroke","blue").style("fill","none"),this.arr_sample_from_tree.slice());c.reverse();var u=C.g().range([30*this.arr_sample_from_tree.length,0]).domain(c).padding(.01);o.append("g").attr("transform","translate("+this.props.width/5+","+a+")").call(C.b(u));var p=C.i("#"+this.alignmentview.id).append("svg").attr("width",r).attr("height",l).append("g").attr("transform","translate(0,"+a+")"),_=C.g().range([0,t*this.pos.length]).domain(this.pos).padding(.01),g=C.c(_);g.tickValues(_.domain().filter(function(t,a){return 0==a?a+1:(a+1)%e==0?a:""})),p.append("g").attr("transform","translate(0,0)").call(g),p.selectAll().data(this.data,function(t){return t.sample+":"+t.pos}).enter().append("rect").attr("x",function(t){return _(t.pos)}).attr("y",function(t){return u(t.sample)}).attr("width",t).attr("height",30).style("fill",function(t){if(1==this.zoom_lv&&ref_chars[t.pos-1]==t.value&&"REF"!=t.sample)return"#FFFFFF";if("nucl"==t.type){if("A"==t.value)return"#A0A0FF";if("C"==t.value)return"#FF8C4B";if("T"==t.value)return"#FF7070";if("G"==t.value)return"#A0FFA0";if("U"==t.value)return"#B8B8B8";if("-"==t.value)return"#FFFFFF"}else{if("A"==t.value)return"#C8C8C8";if("D"==t.value||"E"==t.value)return"#E60A0A";if("C"==t.value||"M"==t.value)return"#E6E600";if("K"==t.value||"R"==t.value)return"#145AFF";if("S"==t.value||"T"==t.value)return"#FA9600";if("F"==t.value||"Y"==t.value)return"#3232AA";if("N"==t.value||"Q"==t.value)return"#00DCDC";if("G"==t.value)return"#EBEBEB";if("L"==t.value||"V"==t.value||"I"==t.value)return"#0F820F";if("W"==t.value)return"#B45AB4";if("H"==t.value)return"#8282D2";if("P"==t.value)return"#DC9682";if("-"==t.value)return"#FFFFFF"}return"#000"}),3==this.zoom_lv&&p.selectAll().data(this.data,function(t){return t.sample+":"+t.pos}).enter().append("text").attr("dy",".35em").attr("x",function(e){return _(e.pos)+t/4}).attr("y",function(t){return u(t.sample)+15}).style("color","black").text(function(t){return t.value})}},{key:"drawHighlighTree",value:function(){var t=30,e=30,a=30;document.getElementById(this.treeview.id).innerHTML="";var n=C.i("#"+this.treeview.id).append("svg").attr("width",this.props.width/5).attr("height",30*this.node_leaf.length+t+e),i=n.append("g").attr("transform","translate("+a+","+(t+15)+")");this.graphic_tree=i;i.selectAll(".link").data(this.fnodes.descendants().slice(1)).enter().append("path").attr("class","link").style("stroke","black").style("fill","none").attr("d",function(t){return"M"+t.ay+","+t.ax+"L"+t.parent.ay+","+t.ax+" "+t.parent.ay+","+t.parent.ax});var s=this.active_names,r=(i.selectAll(".node").data(this.fnodes.descendants()).enter().append("g").attr("class",function(t){return"node"+(t.children?" node--internal":" node--leaf")+(s.includes(t.data.name.replace(/\'/g,""))?" node--active":"")}).attr("transform",function(t){return"translate("+t.ay+","+t.ax+")"}),i.selectAll(".node--leaf").append("circle").attr("r",2).style("stroke","black").style("fill","black"),i.selectAll(".node--active").append("circle").attr("r",5).style("stroke","blue").style("fill","none"),this.arr_sample_from_tree.slice());if(r.reverse(),void 0!=this.mlst)for(var l=0;l<r.length;l++)for(;0<this.mlst.length;l++)r[l]==this.mlst[0]&&(r[l]=r[l]+"("+this.mlst[0]+")");var o=C.g().range([30*this.arr_sample_from_tree.length,0]).domain(r).padding(.01);n.append("g").attr("transform","translate("+this.props.width/5+","+t+")").call(C.b(o))}},{key:"zoomIn",value:function(){this.zoom_lv<3&&(this.zoom_lv=this.zoom_lv+1),this.draw()}},{key:"zoomOut",value:function(){console.log("event zoom out"),this.zoom_lv>1&&(this.zoom_lv=this.zoom_lv-1),this.draw()}},{key:"onChangeType",value:function(){this.current_type=document.querySelector('input[name="view"]:checked').value,this.load(this.genelabel,this.phylotree,this.samples),this.draw()}},{key:"onChangeViewBranchLenght",value:function(){this.display_branch_length=document.getElementById("ch_length").checked,this.load(this.genelabel,this.phylotree,this.samples),this.draw()}},{key:"translateDNA2Prot",value:function(t){var e={A:["GCA","GCC","GCG","GCT"],C:["TGC","TGT"],D:["GAC","GAT"],E:["GAA","GAG"],F:["TTC","TTT"],G:["GGA","GGC","GGG","GGT"],H:["CAC","CAT"],I:["ATA","ATC","ATT"],K:["AAA","AAG"],L:["CTA","CTC","CTG","CTT","TTA","TTG"],M:["ATG"],N:["AAC","AAT"],P:["CCA","CCC","CCG","CCT"],Q:["CAA","CAG"],R:["AGA","AGG","CGA","CGC","CGG","CGT"],S:["AGC","AGT","TCA","TCC","TCG","TCT"],T:["ACA","ACC","ACG","ACT"],V:["GTA","GTC","GTG","GTT"],W:["TGG"],Y:["TAC","TAT"],"":["TAA","TAG","TGA"]},a={},n=!0,i=!1,s=void 0;try{for(var r,l=H()(F()(e));!(n=(r=l.next()).done);n=!0){var o=r.value,h=!0,d=!1,c=void 0;try{for(var u,p=H()(e[o]);!(h=(u=p.next()).done);h=!0){a[u.value]=o}}catch(t){d=!0,c=t}finally{try{!h&&p.return&&p.return()}finally{if(d)throw c}}}}catch(t){i=!0,s=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw s}}var _="";t=t.replace(/\-/g,"");for(var g=0;g<t.length;g+=3){var m=t.substr(g,3);3==m.length&&(_=_.concat(a[m]))}return _}}]),t}(),q={name:"ContigLengthChart",props:["list_contig"],data:function(){return{loading:!1}},mounted:function(){this.loading=!0;var t=document.getElementById("contig_chart"),e=new x(t);e.load(this.list_contig),e.setOptions({width:1200,height:550}),e.draw(),this.loading=!1},created:function(){var t=this;return _()(d.a.mark(function e(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},method:{}},$={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"contig_chart"}})},staticRenderFns:[]};var K=a("VU/8")(q,$,!1,function(t){a("9Keu")},"data-v-e6e96148",null).exports,X=new n.a,Y={name:"GenomeBrowser",props:["list_contig","knowngene","GC_content","GC_skew"],data:function(){return{loading:!1,current_zoom:3,current_type:"prot",pos_track:0,svg_title:void 0,scale:.1,current_contig:void 0,selected_contig:void 0}},mounted:function(){this.loading=!0;var t=document.getElementById("browser"),e=new E(t);e.load(this.list_contig,this.knowngene,this.GC_skew,this.GC_content),e.setOptions({width:618}),e.draw(),X.$on("contig_emited",function(t){e.changeContig(t)}),X.$on("element_emited",function(t){e.changeContig(t.contig),e.locatePosition(t.pos)}),this.loading=!1},created:function(){var t=this;return _()(d.a.mark(function e(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},method:{}},J={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"browser"}})},staticRenderFns:[]};var Q=a("VU/8")(Y,J,!1,function(t){a("1erZ")},"data-v-1ca32502",null).exports,tt={name:"GenomeCircosBrowser",props:["contigs","amr_genes","virulome_genes","skew","plasmid"],data:function(){return{loading:!1,_contig:[],amr_data:[],vir_data:[],skew_data:[]}},mounted:function(){this.loading=!0;var t=document.getElementById("circos"),e=new R(t);e.load(this.contigs,this.amr_genes,this.virulome_genes,this.skew),e.setOptions({width:500,height:500}),e.draw(),t.addEventListener("contig_select",function(t){console.log(t.detail),X.$emit("contig_emited",t.detail)}),t.addEventListener("element_select",function(t){console.log(t.detail),X.$emit("element_emited",t.detail)}),this.loading=!1},created:function(){var t=this;return _()(d.a.mark(function e(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},method:{}},et={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"circos"}})},staticRenderFns:[]};var at=a("VU/8")(tt,et,!1,function(t){a("EEll")},"data-v-c6b5938a",null).exports,nt=a("mtWM"),it=a.n(nt),st={fetchResult:function(t,e){return console.log(Object({NODE_ENV:"production"}).BASE_URL),it.a.get("/static/data/"+t+"/samples/"+e+".json")},fetchSetResult:function(t){return it.a.get("/static/data/"+t+"/set.json")},fetchListCollectionResult:function(){return it.a.get("/static/data/collections.json")},fetchPangenomeCluster:function(t){return it.a.get("/static/data/"+t+"/set/pangenome_cluster.json")},fetchPangenomeSummary:function(t){return it.a.get("/static/data/"+t+"/set/pangenome_summary.json")},fetchHeatmap:function(t){return it.a.get("/static/data/"+t+"/set/amrheatmap.json")},fetchAlignment:function(t,e){var a=this;return _()(d.a.mark(function n(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",it()({method:"get",url:"/static/data/"+t+"/set/alignments/"+e+".json.gz",responseType:"arraybuffer"}));case 1:case"end":return a.stop()}},n,a)}))()}};a("FNwM");a.e(8).then(a.bind(null,"rs0g")),a.e(2).then(a.bind(null,"PMNR")),a.e(4).then(a.bind(null,"EWlk")),a.e(1).then(a.bind(null,"WbLe")),Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"++rn")),Promise.all([a.e(0),a.e(7)]).then(a.bind(null,"17jO")),Promise.all([a.e(0),a.e(6)]).then(a.bind(null,"JwpU")),Promise.all([a.e(0),a.e(5)]).then(a.bind(null,"wtxW"));var rt={name:"SingleSample",components:{ContigLengthChart:K,GenomeBrowser:Q,GenomeCircosBrowser:at},data:function(){var t;return t={activeNames:["1"],sample_info:void 0,antibiotics_tags:[],plasmid_tags:[],virulome_tags:[],speciesData:void 0,mlstData:void 0,pmlstData:void 0,plasmidData:void 0,resistomeData:void 0,virulomeData:void 0,assemblyData:void 0,pointData:void 0,skewData:void 0,contentData:void 0,annotationData:void 0},m()(t,"sample_info",void 0),m()(t,"loaded",!1),t},computed:{sampleId:function(){return this.$route.params.sid},collectionId:function(){return this.$route.params.cid}},created:function(){var t=this;return _()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,u.a.all([t.fetchData()]);case 3:t.loadTable();case 4:case"end":return e.stop()}},e,t)}))()},methods:{loadTable:function(){for(var t=a("7t+N"),e=[],n=0;n<this.assemblyData.contigs.length;n++){var i=[this.assemblyData.contigs[n].name,this.assemblyData.contigs[n].length];e.push(i)}var s=t("#assembly_table").DataTable({data:e,dom:"Bfrtip",buttons:["csv","excel","pdf"],columns:[{title:"Contig"},{title:"Length"}]});t("#amr_table").DataTable({dom:"Bfrtip",buttons:["csv","excel","pdf"]}),t("#virulome_table").DataTable({dom:"Bfrtip",buttons:["csv","excel","pdf"]}),t("#assembly_table tbody").on("click","td.sorting_1",function(){var e=s.row(t(this)).data();console.log(e),X.$emit("contig_emited",e[0]),t(this).hasClass("selected")?t(this).removeClass("selected"):(s.$("tr.selected").removeClass("selected"),t(this).addClass("selected"))});var r=[];for(var l in this.sample_info.metadata){i=[l,this.sample_info.metadata[l]];r.push(i)}t("#metadata_table").DataTable({data:r});var o=[];console.log(this.mlstData.hits);for(n=0;n<this.mlstData.hits.length;n++){i=[this.mlstData.hits[n].locus,this.mlstData.hits[n].allele];o.push(i)}t("#mlst_table").DataTable({data:o,columns:[{title:"Locus"},{title:"Allele"}]})},fetchData:function(){var t=this;return _()(d.a.mark(function e(){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st.fetchResult(t.collectionId,t.sampleId);case 2:for(a=e.sent,n=0;n<a.data.result.length;n++)0==a.data.result[n].group.localeCompare("MLST")?t.mlstData=a.data.result[n].data:"PLASMID"==a.data.result[n].group?t.plasmidData=a.data.result[n].data:"AMR"==a.data.result[n].group?t.resistomeData=a.data.result[n].data:"VIR"==a.data.result[n].group?t.virulomeData=a.data.result[n].data:"CONTIG"==a.data.result[n].group?(t.assemblyData=a.data.result[n].data,t.assemblyData.GC=o()(t.assemblyData.GC)+" %"):"SPECIES"==a.data.result[n].group?t.speciesData=a.data.result[n].data:"POINT"==a.data.result[n].group?t.pointData=a.data.result[n].data:"PMLST"==a.data.result[n].group?t.pmlstData=a.data.result[n].data:"ANNOTATION"==a.data.result[n].group&&(t.annotationData=a.data.result[n].data);console.log(t.annotationData),t.sample_info={name:a.data.name,genus:a.data.genus,species:a.data.species,strain:a.data.strain,gram:a.data.gram,files:a.data.files,metadata:a.data.metadata},t.loaded=!0;case 7:case"end":return e.stop()}},e,t)}))()}}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[t.loaded?t._e():a("div",{staticClass:"center"},[a("div",{staticClass:"loader"}),t._v(" "),a("div",[t._v("Data loading...")])]),t._v(" "),t.loaded?a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[t._v(t._s(t.sampleId))]),t._v(" "),a("div",[a("div",[t._v("Sample name:"+t._s(t.sample_info.name))]),t._v(" "),a("div",[t._v("Genus:"+t._s(t.sample_info.genus))]),a("div",[t._v("Species:"+t._s(t.sample_info.species))]),a("div",[t._v("Strain:"+t._s(t.sample_info.strain))]),a("div",[t._v("Gram:"+t._s(t.sample_info.gram))]),t._v(" "),a("div",[t._v("Input Files:"+t._s(t.sample_info.files))])]),t._v(" "),a("h3",[t._v("Metadata")]),t._v(" "),t._m(0)]):t._e(),t._v(" "),t.loaded?a("div",{staticClass:"container"},[t._m(1),t._v(" "),a("div",{staticStyle:{float:"left",width:"100%"}},[a("div",{staticClass:"marR20"},[t._v("Genome length "),a("span",{staticClass:"bold mar10"},[t._v(t._s(t.assemblyData.genome_length))])]),t._v(" "),a("div",{staticClass:"marR20"},[t._v("Number of contigs "),a("span",{staticClass:"bold mar10"},[t._v(t._s(t.assemblyData.n_contig))])]),t._v(" "),a("div",{staticClass:"marR20"},[t._v("Min length "),a("span",{staticClass:"bold mar10"},[t._v(t._s(t.assemblyData.min_length))])]),t._v(" "),a("div",{staticClass:"marR20"},[t._v("Max length "),a("span",{staticClass:"bold mar10"},[t._v(t._s(t.assemblyData.max_length))])])]),t._v(" "),a("div",{staticStyle:{width:"100%"}},[a("ContigLengthChart",{attrs:{list_contig:t.assemblyData.contigs}})],1),t._v(" "),t._m(2)]):t._e(),t._v(" "),t.loaded?a("div",{staticClass:"container"},[t._m(3),t._v(" "),a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"left-align bold margin-r5"},[t._v("MLST:")]),t._v(" "),a("div",[t._v(t._s(t.mlstData.st))])]),t._v(" "),t._m(4)]):t._e(),t._v(" "),t.loaded?a("div",{staticClass:"container",staticStyle:{height:"650px"}},[a("div",{staticClass:"header"},[t._v("\n  Genome Browser\n")]),t._v(" "),a("div",[a("div",{staticStyle:{width:"500px",height:"300px",float:"left"}},[a("GenomeCircosBrowser",{attrs:{contigs:t.assemblyData.contigs,amr_genes:t.resistomeData.hits,virulome_genes:t.virulomeData.hits,skew:t.assemblyData.skew}})],1),t._v(" "),a("div",{staticStyle:{"margin-left":"500px",height:"300px"}},[a("GenomeBrowser",{attrs:{list_contig:t.assemblyData.contigs,knowngene:t.annotationData.genes,GC_skew:t.assemblyData.skew,GC_content:t.assemblyData.content.array}})],1)])]):t._e(),t._v(" "),t.loaded?a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[t._v("\nAntimicrobial resistance genes\n")]),t._v(" "),t.resistomeData?a("table",{staticClass:"display",attrs:{id:"amr_table"}},[t._m(5),t._v(" "),a("tbody",t._l(t.resistomeData.hits,function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.sequence))]),t._v(" "),a("td",[t._v(t._s(e.start))]),t._v(" "),a("td",[t._v(t._s(e.end))]),t._v(" "),a("td",[t._v(t._s(e.gene))]),t._v(" "),a("td",[t._v(t._s(e.identity))]),t._v(" "),a("td",[t._v(t._s(e.db))]),t._v(" "),a("td",[t._v(t._s(e.accession))]),t._v(" "),a("td",[t._v(t._s(e.resistance.replace(/\//g," ")))]),t._v(" "),a("td",[t._v(t._s(e.product))])])}),0)]):t._e()]):t._e(),t._v(" "),t.loaded?a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[t._v("Virulome")]),t._v(" "),t.virulomeData?a("table",{staticClass:"display",attrs:{id:"virulome_table"}},[t._m(6),t._v(" "),a("tbody",t._l(t.virulomeData.hits,function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.sequence))]),t._v(" "),a("td",[t._v(t._s(e.start))]),t._v(" "),a("td",[t._v(t._s(e.end))]),t._v(" "),a("td",[t._v(t._s(e.gene))]),t._v(" "),a("td",[t._v(t._s(e.coverage))]),t._v(" "),a("td",[t._v(t._s(e.identity))]),t._v(" "),a("td",[t._v(t._s(e.db))]),t._v(" "),a("td",[t._v(t._s(e.accession))]),t._v(" "),a("td",[t._v(t._s(e.resistance))]),t._v(" "),a("td",[t._v(t._s(e.product))])])}),0)]):t._e()]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticClass:"display",attrs:{id:"metadata_table"}},[e("thead",[e("tr",[e("th",[this._v("Field")]),this._v(" "),e("th",[this._v("Value")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"header"},[this._v("Assembly Stats")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"100%"}},[e("table",{staticClass:"hover",attrs:{id:"assembly_table"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"header"},[this._v("MLST")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"100%"}},[e("table",{staticClass:"display",attrs:{id:"mlst_table"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Sequence")]),t._v(" "),a("th",[t._v("Start")]),t._v(" "),a("th",[t._v("End")]),t._v(" "),a("th",[t._v("Gene")]),t._v(" "),a("th",[t._v("Identity")]),t._v(" "),a("th",[t._v("Database")]),t._v(" "),a("th",[t._v("Accession")]),t._v(" "),a("th",[t._v("Resistance")]),t._v(" "),a("th",[t._v("Product")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Sequence")]),t._v(" "),a("th",[t._v("Start")]),t._v(" "),a("th",[t._v("End")]),t._v(" "),a("th",[t._v("Gene")]),t._v(" "),a("th",[t._v("Coverage")]),t._v(" "),a("th",[t._v("Identity")]),t._v(" "),a("th",[t._v("Database")]),t._v(" "),a("th",[t._v("Accession")]),t._v(" "),a("th",[t._v("Resistance")]),t._v(" "),a("th",[t._v("Product")])])])}]};var ot=a("VU/8")(rt,lt,!1,function(t){a("k/9v")},"data-v-562eae6d",null).exports,ht={name:"PangenomePieChart",props:["core_data_url"],data:function(){return{loading:!1,core_data:void 0}},computed:{collectionId:function(){return this.$route.params.cid}},mounted:function(){var t=this;return _()(d.a.mark(function e(){var a,n,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,a=document.getElementById("piechart"),n=new T(a),e.next=5,st.fetchPangenomeSummary(t.collectionId);case 5:i=e.sent,t.core_data=i.data,console.log(t.core_data.group),n.load(t.core_data.group),n.draw(),t.loading=!1;case 11:case"end":return e.stop()}},e,t)}))()},created:function(){var t=this;return _()(d.a.mark(function e(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},method:{}},dt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"piechart"}})},staticRenderFns:[]};var ct=a("VU/8")(ht,dt,!1,function(t){a("STHg")},"data-v-c6220154",null).exports,ut={name:"GeneDistributionChart",props:["cluster_data"],data:function(){return{loading:!1}},mounted:function(){this.loading=!0;var t=document.getElementById("dischart"),e=new S(t);e.load(this.cluster_data),e.draw(),this.loading=!1},created:function(){var t=this;return _()(d.a.mark(function e(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},method:{}},pt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"dischart"}})},staticRenderFns:[]};var _t=a("VU/8")(ut,pt,!1,function(t){a("8Hrj")},"data-v-0fe87bf6",null).exports,gt={name:"PhylogenyBrowser",props:["newitck_tree","samples"],data:function(){return{loading:!1}},mounted:function(){this.loading=!0;var t=document.getElementById("treeview"),e=new N(t),a=this.newitck_tree.replace(/.ref/g,"");a=a.replace(/_contigs.fasta/g,"");for(var n={},i=0;i<this.samples.length;i++)n[this.samples[i].id]=this.samples[i].metadata;e.load(a,n),e.draw(),e.tree.on("updated",function(t){var e=t.property,a=t.nodeIds;if("selected"===e){for(var n=[],i=0;i<a.length;i++)n.push(a[i].replace(/\'/g,""));console.log(n),X.$emit("samples_emited",n)}}),this.loading=!1},created:function(){var t=this;return _()(d.a.mark(function e(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},method:{}},mt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"treeview"}})},staticRenderFns:[]};var ft=a("VU/8")(gt,mt,!1,function(t){a("SH0a")},"data-v-3f0cec3f",null).exports,vt={name:"Heatmap",props:["newitck_tree","heatmap_url"],data:function(){return{loading:!1,list_type:[],list_amr_hits:[],list_vir_hits:[],list_amr_class:[],list_vir_class:[],heatmapview:void 0,selected_data:"amr",tree_data:void 0,heatmap:void 0}},mounted:function(){var t=this;return _()(d.a.mark(function e(){var a,n,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,st.fetchHeatmap(t.collectionId);case 3:for(a=e.sent,t.heatmap=a.data,t.list_type=[{type:"amr",name:"AMR genes"},{type:"vir",name:"Virulome genes"}],t.selected_data="amr",n=0;n<t.heatmap.hits.length;n++)"amr"==t.heatmap.hits[n].type&&(t.list_amr_hits.push(t.heatmap.hits[n]),t.list_amr_class.includes(t.heatmap.hits[n].class)||t.list_amr_class.push(t.heatmap.hits[n].class)),"vir"==t.heatmap.hits[n].type&&t.list_vir_hits.push(t.heatmap.hits[n]);i=document.getElementById("heatmap"),t.heatmapview=new B(i),t.tree_data=t.newitck_tree.replace(/.ref/g,""),t.tree_data=t.tree_data.replace(/_contigs.fasta/g,""),t.heatmapview.load(t.tree_data,t.list_amr_hits),t.heatmapview.draw(),X.$on("samples_emited",function(e){console.log("sample_emited "+e),t.heatmapview.setActiveNames(e)}),t.loading=!1;case 16:case"end":return e.stop()}},e,t)}))()},created:function(){var t=this;return _()(d.a.mark(function e(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},computed:{collectionId:function(){return this.$route.params.cid}},methods:{onChangeData:function(t){console.log(this.selected_data),"amr"==this.selected_data&&this.heatmapview.load(this.tree_data,this.list_amr_hits),"vir"==this.selected_data&&this.heatmapview.load(this.tree_data,this.list_vir_hits),this.heatmapview.draw()}}},wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"padding-bottom":"10px","border-bottom":"1px solid #aaa"}},[t.list_type?a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_data,expression:"selected_data"}],attrs:{name:"type",id:"type"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected_data=e.target.multiple?a:a[0]},t.onChangeData]}},t._l(t.list_type,function(e){return a("option",{key:e.name,domProps:{value:e.type}},[t._v(t._s(e.name))])}),0):t._e()]),t._v(" "),a("div",{staticStyle:{width:"100%"},attrs:{id:"heatmap"}})])},staticRenderFns:[]};var yt=a("VU/8")(vt,wt,!1,function(t){a("pfq6")},null,null).exports,bt={name:"AlignmentComp",props:["alignmentData"],data:function(){return{loading:!1,list_alignments:[],current_alignment:void 0,alignmentview:void 0}},computed:{collectionId:function(){return this.$route.params.cid}},mounted:function(){var t=this;return _()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.list_alignments=t.alignmentData.alignments,e.next=4,t.getAlignment();case 4:return a=e.sent,e.next=7,t.loadAlignment(a);case 7:X.$on("gene_id_emited",function(e){t.loading=!0,t.reloadAlignment(e),t.loading=!1}),X.$on("samples_emited",function(e){t.loading=!0,t.alignmentview.setActiveNames(e),t.loading=!1});case 9:case"end":return e.stop()}},e,t)}))()},created:function(){var t=this;return _()(d.a.mark(function e(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},methods:{getAlignment:function(){var t=this;return _()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st.fetchAlignment(t.collectionId,t.alignmentData.alignments[0].gene);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)}))()},loadAlignment:function(t){var e=this;return _()(d.a.mark(function n(){var i,s,r,l;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=a("Y7uo"),s=JSON.parse(i.ungzip(t.data,{to:"string"})),r=document.getElementById("aligmentview"),e.current_alignment=s,e.alignmentview=new W(r),l=(l=atob(e.alignmentData.alignments[0].tree).replace(/.ref/g,"")).replace(/.fasta/g,""),e.alignmentview.load(e.alignmentData.alignments[0].gene,l,e.current_alignment,void 0),e.alignmentview.draw(),e.loading=!1;case 10:case"end":return n.stop()}},n,e)}))()},reloadAlignment:function(t){var e=this;return _()(d.a.mark(function n(){var i,s,r,l;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=0;case 1:if(!(i<e.list_alignments.length)){n.next=16;break}if(e.list_alignments[i].gene!=t){n.next=13;break}return s=(s=atob(e.alignmentData.alignments[i].tree).replace(/.ref/g,"")).replace(/.fasta/g,""),n.next=7,st.fetchAlignment(e.collectionId,t);case 7:return r=n.sent,l=a("Y7uo"),e.current_alignment=JSON.parse(l.ungzip(r.data,{to:"string"})),e.alignmentview.load(e.alignmentData.alignments[i].gene,s,e.current_alignment),e.alignmentview.draw(),n.abrupt("break",16);case 13:i++,n.next=1;break;case 16:case"end":return n.stop()}},n,e)}))()}}},kt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticStyle:{width:"100%"},attrs:{id:"aligmentview"}})])}]};var xt=a("VU/8")(bt,kt,!1,function(t){a("XaDf")},null,null).exports;a.e(8).then(a.bind(null,"rs0g")),a.e(2).then(a.bind(null,"PMNR")),a.e(4).then(a.bind(null,"EWlk")),a.e(1).then(a.bind(null,"WbLe")),Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"++rn")),Promise.all([a.e(0),a.e(7)]).then(a.bind(null,"17jO")),Promise.all([a.e(0),a.e(6)]).then(a.bind(null,"JwpU")),Promise.all([a.e(0),a.e(5)]).then(a.bind(null,"wtxW"));var Ct={name:"Collection",components:{PangenomePieChart:ct,GeneDistributionChart:_t,PhylogenyBrowser:ft,Heatmap:yt,AlignmentComp:xt},data:function(){var t;return t={coreDataURL:void 0,phylogenyData:void 0,geneClusterData:void 0,geneClusterURL:void 0},m()(t,"coreDataURL",void 0),m()(t,"phyloHeatmapURL",void 0),m()(t,"alignmentData",void 0),m()(t,"isLoading",!0),m()(t,"list_sample",[]),m()(t,"isReady",!1),t},computed:{collectionId:function(){return this.$route.params.cid}},created:function(){var t=this;return _()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,u.a.all([t.fetchData()]);case 3:t.loadData();case 4:case"end":return e.stop()}},e,t)}))()},methods:{fetchData:function(){var t=this;return _()(d.a.mark(function e(){var a,n,i,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isReady=!1,e.next=3,st.fetchSetResult(t.collectionId);case 3:for(a=e.sent,console.log(a),n=a.data.results,t.list_sample=a.data.samples,i=0;i<n.length;i++)"phylogeny_tree"==n[i].group&&(t.phylogenyData=atob(n[i].data),t.phylogenyData=t.trimExtensionFileFasta(t.phylogenyData)),"pan_sum"==n[i].group&&(t.coreDataURL=n[i].data),"pan_cluster"==n[i].group&&(t.geneClusterURL=n[i].data),"phylo_heatmap"==n[i].group&&(t.phyloHeatmapURL=n[i].data),"gene_alignments"==n[i].group&&(t.alignmentData=n[i].data);return e.next=10,st.fetchPangenomeCluster(t.collectionId);case 10:for(s=e.sent,t.geneClusterData=s.data,t.geneClusterData.genes.sort(function(t,e){return e.noisolates-t.noisolates}),i=0;i<t.geneClusterData.genes.length;i++)t.geneClusterData.genes[i].id=i+1;t.isLoading=!1,t.isReady=!0;case 16:case"end":return e.stop()}},e,t)}))()},loadData:function(){for(var t=a("7t+N"),e=[],n=0;n<this.geneClusterData.genes.length;n++){var i=[this.geneClusterData.genes[n].gene,this.geneClusterData.genes[n].annotation,this.geneClusterData.genes[n].noisolates,this.geneClusterData.genes[n].nosequences,this.geneClusterData.genes[n].length];e.push(i)}var s=t("#cluster_table").DataTable({data:e,dom:"Bfrtip",buttons:["csv","excel","pdf"]});t("#cluster_table tbody").on("click","tr",function(){var e=s.row(t(this)).data();console.log("gene_id_emited"+e[0]),X.$emit("gene_id_emited",e[0]),t(this).hasClass("selected")?t(this).removeClass("selected"):(s.$("tr.selected").removeClass("selected"),t(this).addClass("selected"))}),t(s.column(0).nodes()).addClass("highlight"),t("#cluster_table tbody").on("mouseenter","td",function(){var e=s.cell(this).index().column;console.log(e),t(s.cells().nodes()).removeClass("highlight"),t(s.row(e).nodes()).addClass("highlight")});var r=[];for(n=0;n<this.list_sample.length;n++){i=[this.list_sample[n].id,this.list_sample[n].name,this.list_sample[n].genus,this.list_sample[n].species,this.list_sample[n].strain,this.list_sample[n].files,this.list_sample[n].download,this.list_sample[n].metadata];r.push(i)}var l=t("#samples_table").DataTable({data:r,columns:[{title:"Sample ID"},{title:"Name"},{title:"Genus"},{title:"Species"},{title:"Strain"},{title:"Files"},{title:"Download"},{title:"Metadata",className:"details-control",orderable:!1,data:null,defaultContent:"Click to open"}],columnDefs:[{targets:5,render:function(t,e,a){for(var n="",i=0;i<a[6].length;i++){var s=a[6][i].file;n+="<a href='"+(s=s.replace("web-app/",""))+"'>"+a[6][i].name+"</a>&nbsp;"}return n}},{visible:!1,targets:[6]}]}),o=this.collectionId;t("#samples_table tbody").on("click","td.sorting_1",function(){var e=l.row(t(this)).data();window.open("/"+o+"/"+e[0],"_blank")});t("#samples_table tbody").on("click","td.details-control",function(){var e=t(this).closest("tr"),a=l.row(e);a.child.isShown()?(a.child.hide(),e.removeClass("shown")):(a.child(function(t){console.log(t);var e='<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">';for(var a in t)e+="<tr><td>"+a+"</td><td>"+t[a]+"</td></tr>";return e+="</table>"}(a.data()[7])).show(),e.addClass("shown"))})},trimExtensionFileFasta:function(t){return t.replace(/.fasta/g,"").replace(/.fna/g,"")}}},Et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[t.isLoading?a("div",{staticClass:"center"},[a("div",{staticClass:"loader"}),t._v(" "),a("div",[t._v("Data loading...")])]):t._e(),t._v(" "),a("div",[a("h1",[t._v(t._s(t.collectionId))])]),t._v(" "),t.isReady?a("div",{staticClass:"container margin20"},[a("div",{staticClass:"header"},[t._v("Samples")]),t._v(" "),a("table",{staticClass:"display",attrs:{id:"samples_table"}})]):t._e(),t._v(" "),t.isReady?a("div",{staticClass:"container",staticStyle:{height:"500px"}},[a("div",{staticClass:"header"},[t._v("Core and Accesory Genes")]),t._v(" "),t.coreDataURL?a("div",{staticStyle:{float:"left",width:"50%"}},[a("PangenomePieChart",{attrs:{core_data_url:t.coreDataURL}})],1):t._e(),t._v(" "),t.geneClusterData?a("div",{staticStyle:{float:"left",width:"50%"}},[a("GeneDistributionChart",{attrs:{cluster_data:t.geneClusterData.genes}})],1):t._e()]):t._e(),t._v(" "),t.geneClusterData?a("div",{staticClass:"container margin20"},[a("div",{staticClass:"header"},[t._v("Gene clusters")]),t._v(" "),t._m(0)]):t._e(),t._v(" "),t.alignmentData?a("div",{staticClass:"container margin20",staticStyle:{clear:"both"}},[a("div",{staticClass:"header"},[t._v("Genes Alignment")]),t._v(" "),a("AlignmentComp",{attrs:{alignmentData:t.alignmentData}})],1):t._e(),t._v(" "),t.phylogenyData?a("div",{staticClass:"container margin20",staticStyle:{clear:"both","margin-bottom":"30px"}},[a("div",{staticClass:"header"},[t._v("Heatmap")]),t._v(" "),a("Heatmap",{attrs:{newitck_tree:t.phylogenyData,heatmap_url:t.phyloHeatmapURL}})],1):t._e(),t._v(" "),t.phylogenyData?a("div",{staticClass:"container margin20",staticStyle:{clear:"both"}},[a("div",{staticClass:"header"},[t._v("Phylogeny tree")]),t._v(" "),a("PhylogenyBrowser",{attrs:{newitck_tree:t.phylogenyData,samples:t.list_sample}})],1):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"display hover",attrs:{id:"cluster_table"}},[a("thead",[a("tr",[a("th",[t._v("Gene")]),t._v(" "),a("th",[t._v("Annotation")]),t._v(" "),a("th",[t._v("Number of Isolate")]),t._v(" "),a("th",[t._v("Number of sequences")]),t._v(" "),a("th",[t._v("Avg Length")])])])])}]};var At=a("VU/8")(Ct,Et,!1,function(t){a("9p0C")},"data-v-20c0e516",null).exports;a.e(1).then(a.bind(null,"WbLe"));var zt={name:"CollectionList",components:{},data:function(){return{isLoading:!0,list_collection:[],isReady:!1}},computed:{},created:function(){var t=this;return _()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,u.a.all([t.fetchData()]);case 3:t.loadData();case 4:case"end":return e.stop()}},e,t)}))()},methods:{fetchData:function(){var t=this;return _()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isReady=!1,e.next=3,st.fetchListCollectionResult();case 3:a=e.sent,t.list_collection=a.data.collections,t.isLoading=!1,t.isReady=!0;case 7:case"end":return e.stop()}},e,t)}))()},loadData:function(){for(var t=a("7t+N"),e=[],n=0;n<this.list_collection.length;n++){var i=[this.list_collection[n].collectionID,this.list_collection[n].collectionName,this.list_collection[n].status];e.push(i)}var s=t("#collection_table").DataTable({data:e,columns:[{title:"Collection ID"},{title:"Name"},{title:"Status"},{title:"Open",className:"details-control",orderable:!1,data:null,defaultContent:"Click to open"}]});t("#collection_table tbody").on("click","td.details-control",function(){var e=s.row(t(this)).data();window.open("/"+e[0],"_blank")})}}},Dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[t.isLoading?a("div",{staticClass:"center"},[a("div",{staticClass:"loader"}),t._v(" "),a("div",[t._v("Data loading...")])]):t._e(),t._v(" "),t._m(0),t._v(" "),t.isReady?a("div",{staticClass:"container margin20"},[a("table",{staticClass:"display",attrs:{id:"collection_table"}})]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("Collections")])])}]};var jt=a("VU/8")(zt,Dt,!1,function(t){a("gixU")},"data-v-5f7daee3",null).exports;n.a.use(r.a);var Rt=new r.a({mode:"history",routes:[{path:"/:cid/:sid",component:ot},{path:"/:cid",component:At},{path:"/",component:jt}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:Rt,render:function(t){return t(s)}})},SH0a:function(t,e){},STHg:function(t,e){},XaDf:function(t,e){},Y7uo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"Deflate",function(){return Je}),a.d(e,"Inflate",function(){return aa}),a.d(e,"constants",function(){return ra}),a.d(e,"deflate",function(){return Qe}),a.d(e,"deflateRaw",function(){return ta}),a.d(e,"gzip",function(){return ea}),a.d(e,"inflate",function(){return na}),a.d(e,"inflateRaw",function(){return ia}),a.d(e,"ungzip",function(){return sa});function n(t){let e=t.length;for(;--e>=0;)t[e]=0}const i=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),s=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),l=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=new Array(576);n(o);const h=new Array(60);n(h);const d=new Array(512);n(d);const c=new Array(256);n(c);const u=new Array(29);n(u);const p=new Array(30);function _(t,e,a,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let g,m,f;function v(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}n(p);const w=t=>t<256?d[t]:d[256+(t>>>7)],y=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},b=(t,e,a)=>{t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,y(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},k=(t,e,a)=>{b(t,a[2*e],a[2*e+1])},x=(t,e)=>{let a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},C=(t,e,a)=>{const n=new Array(16);let i,s,r=0;for(i=1;i<=15;i++)n[i]=r=r+a[i-1]<<1;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=x(n[e]++,e))}},E=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},A=t=>{t.bi_valid>8?y(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},z=(t,e,a,n)=>{const i=2*e,s=2*a;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[a]},D=(t,e,a)=>{const n=t.heap[a];let i=a<<1;for(;i<=t.heap_len&&(i<t.heap_len&&z(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!z(e,n,t.heap[i],t.depth));)t.heap[a]=t.heap[i],a=i,i<<=1;t.heap[a]=n},j=(t,e,a)=>{let n,r,l,o,h=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],r=t.pending_buf[t.l_buf+h],h++,0===n?k(t,r,e):(l=c[r],k(t,l+256+1,e),0!==(o=i[l])&&(r-=u[l],b(t,r,o)),l=w(--n),k(t,l,a),0!==(o=s[l])&&(n-=p[l],b(t,n,o)))}while(h<t.last_lit);k(t,256,e)},R=(t,e)=>{const a=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let r,l,o,h=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<s;r++)0!==a[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(o=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[o]=0,t.opt_len--,i&&(t.static_len-=n[2*o+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)D(t,a,r);o=s;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],D(t,a,1),l=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=l,a[2*o]=a[2*r]+a[2*l],t.depth[o]=(t.depth[r]>=t.depth[l]?t.depth[r]:t.depth[l])+1,a[2*r+1]=a[2*l+1]=o,t.heap[1]=o++,D(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const a=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,r=e.stat_desc.extra_bits,l=e.stat_desc.extra_base,o=e.stat_desc.max_length;let h,d,c,u,p,_,g=0;for(u=0;u<=15;u++)t.bl_count[u]=0;for(a[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)(u=a[2*a[2*(d=t.heap[h])+1]+1]+1)>o&&(u=o,g++),a[2*d+1]=u,d>n||(t.bl_count[u]++,p=0,d>=l&&(p=r[d-l]),_=a[2*d],t.opt_len+=_*(u+p),s&&(t.static_len+=_*(i[2*d+1]+p)));if(0!==g){do{for(u=o-1;0===t.bl_count[u];)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[o]--,g-=2}while(g>0);for(u=o;0!==u;u--)for(d=t.bl_count[u];0!==d;)(c=t.heap[--h])>n||(a[2*c+1]!==u&&(t.opt_len+=(u-a[2*c+1])*a[2*c],a[2*c+1]=u),d--)}})(t,e),C(a,h,t.bl_count)},T=(t,e,a)=>{let n,i,s=-1,r=e[1],l=0,o=7,h=4;for(0===r&&(o=138,h=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)i=r,r=e[2*(n+1)+1],++l<o&&i===r||(l<h?t.bl_tree[2*i]+=l:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[32]++):l<=10?t.bl_tree[34]++:t.bl_tree[36]++,l=0,s=i,0===r?(o=138,h=3):i===r?(o=6,h=3):(o=7,h=4))},S=(t,e,a)=>{let n,i,s=-1,r=e[1],l=0,o=7,h=4;for(0===r&&(o=138,h=3),n=0;n<=a;n++)if(i=r,r=e[2*(n+1)+1],!(++l<o&&i===r)){if(l<h)do{k(t,i,t.bl_tree)}while(0!=--l);else 0!==i?(i!==s&&(k(t,i,t.bl_tree),l--),k(t,16,t.bl_tree),b(t,l-3,2)):l<=10?(k(t,17,t.bl_tree),b(t,l-3,3)):(k(t,18,t.bl_tree),b(t,l-11,7));l=0,s=i,0===r?(o=138,h=3):i===r?(o=6,h=3):(o=7,h=4)}};let L=!1;const F=(t,e,a,n)=>{b(t,0+(n?1:0),3),e=e,N=a,U=!0,A(t=t),U&&(y(t,N),y(t,~N)),t.pending_buf.set(t.window.subarray(e,e+N),t.pending),t.pending+=N};var I,G,N,U;var B={_tr_init:t=>{L||((()=>{let t,e,a,n,l;const v=new Array(16);for(a=0,n=0;n<28;n++)for(u[n]=a,t=0;t<1<<i[n];t++)c[a++]=n;for(c[a-1]=n,l=0,n=0;n<16;n++)for(p[n]=l,t=0;t<1<<s[n];t++)d[l++]=n;for(l>>=7;n<30;n++)for(p[n]=l<<7,t=0;t<1<<s[n]-7;t++)d[256+l++]=n;for(e=0;e<=15;e++)v[e]=0;for(t=0;t<=143;)o[2*t+1]=8,t++,v[8]++;for(;t<=255;)o[2*t+1]=9,t++,v[9]++;for(;t<=279;)o[2*t+1]=7,t++,v[7]++;for(;t<=287;)o[2*t+1]=8,t++,v[8]++;for(C(o,287,v),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=x(t,5);g=new _(o,i,257,286,15),m=new _(h,s,0,30,15),f=new _(new Array(0),r,0,19,7)})(),L=!0),t.l_desc=new v(t.dyn_ltree,g),t.d_desc=new v(t.dyn_dtree,m),t.bl_desc=new v(t.bl_tree,f),t.bi_buf=0,t.bi_valid=0,E(t)},_tr_stored_block:F,_tr_flush_block:(t,e,a,n)=>{let i,s,r=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),R(t,t.l_desc),R(t,t.d_desc),r=(t=>{let e;for(T(t,t.dyn_ltree,t.l_desc.max_code),T(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=a+5,a+4<=i&&-1!==e?F(t,e,a,n):4===t.strategy||s===i?(b(t,2+(n?1:0),3),j(t,o,h)):(b(t,4+(n?1:0),3),((t,e,a,n)=>{let i;for(b(t,e-257,5),b(t,a-1,5),b(t,n-4,4),i=0;i<n;i++)b(t,t.bl_tree[2*l[i]+1],3);S(t,t.dyn_ltree,e-1),S(t,t.dyn_dtree,a-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,r+1),j(t,t.dyn_ltree,t.dyn_dtree)),E(t),n&&A(t)},_tr_tally:(t,e,a)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(c[a]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1),_tr_align:t=>{b(t,2,3),k(t,256,o),(t=>{16===t.bi_valid?(y(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var O=(t,e,a,n)=>{let i=65535&t|0,s=t>>>16&65535|0,r=0;for(;0!==a;){a-=r=a>2e3?2e3:a;do{s=s+(i=i+e[n++]|0)|0}while(--r);i%=65521,s%=65521}return i|s<<16|0};const H=new Uint32Array((()=>{let t,e=[];for(var a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e})());var Z=(t,e,a,n)=>{const i=H,s=n+a;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[255&(t^e[a])];return-1^t},M={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},P={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:V,_tr_stored_block:W,_tr_flush_block:q,_tr_tally:$,_tr_align:K}=B,{Z_NO_FLUSH:X,Z_PARTIAL_FLUSH:Y,Z_FULL_FLUSH:J,Z_FINISH:Q,Z_BLOCK:tt,Z_OK:et,Z_STREAM_END:at,Z_STREAM_ERROR:nt,Z_DATA_ERROR:it,Z_BUF_ERROR:st,Z_DEFAULT_COMPRESSION:rt,Z_FILTERED:lt,Z_HUFFMAN_ONLY:ot,Z_RLE:ht,Z_FIXED:dt,Z_DEFAULT_STRATEGY:ct,Z_UNKNOWN:ut,Z_DEFLATED:pt}=P,_t=286,gt=30,mt=19,ft=2*_t+1,vt=15,wt=(t,e)=>(t.msg=M[e],e),yt=t=>(t<<1)-(t>4?9:0),bt=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let kt=(t,e,a)=>(e<<t.hash_shift^a)&t.hash_mask;const xt=t=>{const e=t.state;let a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Ct=(t,e)=>{q(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,xt(t.strm)},Et=(t,e)=>{t.pending_buf[t.pending++]=e},At=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},zt=(t,e,a,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),a),1===t.state.wrap?t.adler=O(t.adler,e,i,a):2===t.state.wrap&&(t.adler=Z(t.adler,e,i,a)),t.next_in+=i,t.total_in+=i,i)},Dt=(t,e)=>{let a,n,i=t.max_chain_length,s=t.strstart,r=t.prev_length,l=t.nice_match;const o=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,d=t.w_mask,c=t.prev,u=t.strstart+258;let p=h[s+r-1],_=h[s+r];t.prev_length>=t.good_match&&(i>>=2),l>t.lookahead&&(l=t.lookahead);do{if(h[(a=e)+r]===_&&h[a+r-1]===p&&h[a]===h[s]&&h[++a]===h[s+1]){s+=2,a++;do{}while(h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&s<u);if(n=258-(u-s),s=u-258,n>r){if(t.match_start=e,r=n,n>=l)break;p=h[s+r-1],_=h[s+r]}}}while((e=c[e&d])>o&&0!=--i);return r<=t.lookahead?r:t.lookahead},jt=t=>{const e=t.w_size;let a,n,i,s,r;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,a=n=t.hash_size;do{i=t.head[--a],t.head[a]=i>=e?i-e:0}while(--n);a=n=e;do{i=t.prev[--a],t.prev[a]=i>=e?i-e:0}while(--n);s+=e}if(0===t.strm.avail_in)break;if(n=zt(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=n,t.lookahead+t.insert>=3)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=kt(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=kt(t,t.ins_h,t.window[r+3-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},Rt=(t,e)=>{let a,n;for(;;){if(t.lookahead<262){if(jt(t),t.lookahead<262&&e===X)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=kt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-262&&(t.match_length=Dt(t,a)),t.match_length>=3)if(n=$(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=kt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=kt(t,t.ins_h,t.window[t.strstart+1]);else n=$(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Q?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2},Tt=(t,e)=>{let a,n,i;for(;;){if(t.lookahead<262){if(jt(t),t.lookahead<262&&e===X)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=kt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-262&&(t.match_length=Dt(t,a),t.match_length<=5&&(t.strategy===lt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=$(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=kt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Ct(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=$(t,0,t.window[t.strstart-1]))&&Ct(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=$(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Q?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2};function St(t,e,a,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=i}const Lt=[new St(0,0,0,0,(t,e)=>{let a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(jt(t),0===t.lookahead&&e===X)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Ct(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(Ct(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Ct(t,!1),t.strm.avail_out),1)}),new St(4,4,8,4,Rt),new St(4,5,16,8,Rt),new St(4,6,32,32,Rt),new St(4,4,16,16,Tt),new St(8,16,32,32,Tt),new St(8,16,128,128,Tt),new St(8,32,128,256,Tt),new St(32,128,258,1024,Tt),new St(32,258,258,4096,Tt)];const Ft=t=>{if(!t||!t.state)return wt(t,nt);t.total_in=t.total_out=0,t.data_type=ut;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=X,V(e),et},It=t=>{const e=Ft(t);return e===et&&(t=>{t.window_size=2*t.w_size,bt(t.head),t.max_lazy_match=Lt[t.level].max_lazy,t.good_match=Lt[t.level].good_length,t.nice_match=Lt[t.level].nice_length,t.max_chain_length=Lt[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),e},Gt=(t,e,a,n,i,s)=>{if(!t)return nt;let r=1;if(e===rt&&(e=6),n<0?(r=0,n=-n):n>15&&(r=2,n-=16),i<1||i>9||a!==pt||n<8||n>15||e<0||e>9||s<0||s>dt)return wt(t,nt);8===n&&(n=9);const l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=pt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*ft),this.dyn_dtree=new Uint16Array(2*(2*gt+1)),this.bl_tree=new Uint16Array(2*(2*mt+1)),bt(this.dyn_ltree),bt(this.dyn_dtree),bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(vt+1),this.heap=new Uint16Array(2*_t+1),bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*_t+1),bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=l,l.strm=t,l.wrap=r,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new Uint8Array(2*l.w_size),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new Uint8Array(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=a,It(t)};var Nt={deflateInit:(t,e)=>Gt(t,e,pt,15,8,ct),deflateInit2:Gt,deflateReset:It,deflateResetKeep:Ft,deflateSetHeader:(t,e)=>t&&t.state?2!==t.state.wrap?nt:(t.state.gzhead=e,et):nt,deflate:(t,e)=>{let a,n;if(!t||!t.state||e>tt||e<0)return t?wt(t,nt):nt;const i=t.state;if(!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==Q)return wt(t,0===t.avail_out?st:nt);i.strm=t;const s=i.last_flush;if(i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,Et(i,31),Et(i,139),Et(i,8),i.gzhead?(Et(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Et(i,255&i.gzhead.time),Et(i,i.gzhead.time>>8&255),Et(i,i.gzhead.time>>16&255),Et(i,i.gzhead.time>>24&255),Et(i,9===i.level?2:i.strategy>=ot||i.level<2?4:0),Et(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Et(i,255&i.gzhead.extra.length),Et(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=Z(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Et(i,0),Et(i,0),Et(i,0),Et(i,0),Et(i,0),Et(i,9===i.level?2:i.strategy>=ot||i.level<2?4:0),Et(i,3),i.status=113);else{let e=pt+(i.w_bits-8<<4)<<8,a=-1;e|=(a=i.strategy>=ot||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(e|=32),e+=31-e%31,i.status=113,At(i,e),0!==i.strstart&&(At(i,t.adler>>>16),At(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=Z(t.adler,i.pending_buf,i.pending-a,a)),xt(t),a=i.pending,i.pending!==i.pending_buf_size));)Et(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=Z(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=Z(t.adler,i.pending_buf,i.pending-a,a)),xt(t),a=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Et(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>a&&(t.adler=Z(t.adler,i.pending_buf,i.pending-a,a)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=Z(t.adler,i.pending_buf,i.pending-a,a)),xt(t),a=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Et(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>a&&(t.adler=Z(t.adler,i.pending_buf,i.pending-a,a)),0===n&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&xt(t),i.pending+2<=i.pending_buf_size&&(Et(i,255&t.adler),Et(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(xt(t),0===t.avail_out)return i.last_flush=-1,et}else if(0===t.avail_in&&yt(e)<=yt(s)&&e!==Q)return wt(t,st);if(666===i.status&&0!==t.avail_in)return wt(t,st);if(0!==t.avail_in||0!==i.lookahead||e!==X&&666!==i.status){let a=i.strategy===ot?((t,e)=>{let a;for(;;){if(0===t.lookahead&&(jt(t),0===t.lookahead)){if(e===X)return 1;break}if(t.match_length=0,a=$(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===ht?((t,e)=>{let a,n,i,s;const r=t.window;for(;;){if(t.lookahead<=258){if(jt(t),t.lookahead<=258&&e===X)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=r[i=t.strstart-1])===r[++i]&&n===r[++i]&&n===r[++i]){s=t.strstart+258;do{}while(n===r[++i]&&n===r[++i]&&n===r[++i]&&n===r[++i]&&n===r[++i]&&n===r[++i]&&n===r[++i]&&n===r[++i]&&i<s);t.match_length=258-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=$(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=$(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2})(i,e):Lt[i.level].func(i,e);if(3!==a&&4!==a||(i.status=666),1===a||3===a)return 0===t.avail_out&&(i.last_flush=-1),et;if(2===a&&(e===Y?K(i):e!==tt&&(W(i,0,0,!1),e===J&&(bt(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),xt(t),0===t.avail_out))return i.last_flush=-1,et}return e!==Q?et:i.wrap<=0?at:(2===i.wrap?(Et(i,255&t.adler),Et(i,t.adler>>8&255),Et(i,t.adler>>16&255),Et(i,t.adler>>24&255),Et(i,255&t.total_in),Et(i,t.total_in>>8&255),Et(i,t.total_in>>16&255),Et(i,t.total_in>>24&255)):(At(i,t.adler>>>16),At(i,65535&t.adler)),xt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?et:at)},deflateEnd:t=>{if(!t||!t.state)return nt;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?wt(t,nt):(t.state=null,113===e?wt(t,it):et)},deflateSetDictionary:(t,e)=>{let a=e.length;if(!t||!t.state)return nt;const n=t.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return nt;if(1===i&&(t.adler=O(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===i&&(bt(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(a-n.w_size,a),0),e=t,a=n.w_size}const s=t.avail_in,r=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,jt(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=kt(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,jt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=r,t.input=l,t.avail_in=s,n.wrap=i,et},deflateInfo:"pako deflate (from Nodeca project)"};const Ut=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Bt={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(const e in a)Ut(a,e)&&(t[e]=a[e])}}return t},flattenChunks:t=>{let e=0;for(let a=0,n=t.length;a<n;a++)e+=t[a].length;const a=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];a.set(i,n),n+=i.length}return a}};let Ot=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Ot=!1}const Ht=new Uint8Array(256);for(let t=0;t<256;t++)Ht[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ht[254]=Ht[254]=1;var Zt={string2buf:t=>{let e,a,n,i,s,r=t.length,l=0;for(i=0;i<r;i++)55296==(64512&(a=t.charCodeAt(i)))&&i+1<r&&56320==(64512&(n=t.charCodeAt(i+1)))&&(a=65536+(a-55296<<10)+(n-56320),i++),l+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(l),s=0,i=0;s<l;i++)55296==(64512&(a=t.charCodeAt(i)))&&i+1<r&&56320==(64512&(n=t.charCodeAt(i+1)))&&(a=65536+(a-55296<<10)+(n-56320),i++),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},buf2string:(t,e)=>{let a,n;const i=e||t.length,s=new Array(2*i);for(n=0,a=0;a<i;){let e=t[a++];if(e<128){s[n++]=e;continue}let r=Ht[e];if(r>4)s[n++]=65533,a+=r-1;else{for(e&=2===r?31:3===r?15:7;r>1&&a<i;)e=e<<6|63&t[a++],r--;r>1?s[n++]=65533:e<65536?s[n++]=e:(e-=65536,s[n++]=55296|e>>10&1023,s[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Ot)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let a="";for(let n=0;n<e;n++)a+=String.fromCharCode(t[n]);return a})(s,n)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let a=e-1;for(;a>=0&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+Ht[t[a]]>e?a:e}};var Mt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Pt=Object.prototype.toString,{Z_NO_FLUSH:Vt,Z_SYNC_FLUSH:Wt,Z_FULL_FLUSH:qt,Z_FINISH:$t,Z_OK:Kt,Z_STREAM_END:Xt,Z_DEFAULT_COMPRESSION:Yt,Z_DEFAULT_STRATEGY:Jt,Z_DEFLATED:Qt}=P;function te(t){this.options=Bt.assign({level:Yt,method:Qt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Jt},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Mt,this.strm.avail_out=0;let a=Nt.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==Kt)throw new Error(M[a]);if(e.header&&Nt.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Zt.string2buf(e.dictionary):"[object ArrayBuffer]"===Pt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=Nt.deflateSetDictionary(this.strm,t))!==Kt)throw new Error(M[a]);this._dict_set=!0}}function ee(t,e){const a=new te(e);if(a.push(t,!0),a.err)throw a.msg||M[a.err];return a.result}te.prototype.push=function(t,e){const a=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?$t:Vt,"string"==typeof t?a.input=Zt.string2buf(t):"[object ArrayBuffer]"===Pt.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(n),a.next_out=0,a.avail_out=n),(s===Wt||s===qt)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if((i=Nt.deflate(a,s))===Xt)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),i=Nt.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Kt;if(0!==a.avail_out){if(s>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},te.prototype.onData=function(t){this.chunks.push(t)},te.prototype.onEnd=function(t){t===Kt&&(this.result=Bt.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ae={Deflate:te,deflate:ee,deflateRaw:function(t,e){return(e=e||{}).raw=!0,ee(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,ee(t,e)},constants:P};var ne=function(t,e){let a,n,i,s,r,l,o,h,d,c,u,p,_,g,m,f,v,w,y,b,k,x,C,E;const A=t.state;a=t.next_in,C=t.input,n=a+(t.avail_in-5),i=t.next_out,E=t.output,s=i-(e-t.avail_out),r=i+(t.avail_out-257),l=A.dmax,o=A.wsize,h=A.whave,d=A.wnext,c=A.window,u=A.hold,p=A.bits,_=A.lencode,g=A.distcode,m=(1<<A.lenbits)-1,f=(1<<A.distbits)-1;t:do{p<15&&(u+=C[a++]<<p,p+=8,u+=C[a++]<<p,p+=8),v=_[u&m];e:for(;;){if(u>>>=w=v>>>24,p-=w,0===(w=v>>>16&255))E[i++]=65535&v;else{if(!(16&w)){if(0==(64&w)){v=_[(65535&v)+(u&(1<<w)-1)];continue e}if(32&w){A.mode=12;break t}t.msg="invalid literal/length code",A.mode=30;break t}y=65535&v,(w&=15)&&(p<w&&(u+=C[a++]<<p,p+=8),y+=u&(1<<w)-1,u>>>=w,p-=w),p<15&&(u+=C[a++]<<p,p+=8,u+=C[a++]<<p,p+=8),v=g[u&f];a:for(;;){if(u>>>=w=v>>>24,p-=w,!(16&(w=v>>>16&255))){if(0==(64&w)){v=g[(65535&v)+(u&(1<<w)-1)];continue a}t.msg="invalid distance code",A.mode=30;break t}if(b=65535&v,p<(w&=15)&&(u+=C[a++]<<p,(p+=8)<w&&(u+=C[a++]<<p,p+=8)),(b+=u&(1<<w)-1)>l){t.msg="invalid distance too far back",A.mode=30;break t}if(u>>>=w,p-=w,b>(w=i-s)){if((w=b-w)>h&&A.sane){t.msg="invalid distance too far back",A.mode=30;break t}if(k=0,x=c,0===d){if(k+=o-w,w<y){y-=w;do{E[i++]=c[k++]}while(--w);k=i-b,x=E}}else if(d<w){if(k+=o+d-w,(w-=d)<y){y-=w;do{E[i++]=c[k++]}while(--w);if(k=0,d<y){y-=w=d;do{E[i++]=c[k++]}while(--w);k=i-b,x=E}}}else if(k+=d-w,w<y){y-=w;do{E[i++]=c[k++]}while(--w);k=i-b,x=E}for(;y>2;)E[i++]=x[k++],E[i++]=x[k++],E[i++]=x[k++],y-=3;y&&(E[i++]=x[k++],y>1&&(E[i++]=x[k++]))}else{k=i-b;do{E[i++]=E[k++],E[i++]=E[k++],E[i++]=E[k++],y-=3}while(y>2);y&&(E[i++]=E[k++],y>1&&(E[i++]=E[k++]))}break}}break}}while(a<n&&i<r);a-=y=p>>3,u&=(1<<(p-=y<<3))-1,t.next_in=a,t.next_out=i,t.avail_in=a<n?n-a+5:5-(a-n),t.avail_out=i<r?r-i+257:257-(i-r),A.hold=u,A.bits=p};const ie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),se=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),re=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),le=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var oe=(t,e,a,n,i,s,r,l)=>{const o=l.bits;let h,d,c,u,p,_,g=0,m=0,f=0,v=0,w=0,y=0,b=0,k=0,x=0,C=0,E=null,A=0;const z=new Uint16Array(16),D=new Uint16Array(16);let j,R,T,S=null,L=0;for(g=0;g<=15;g++)z[g]=0;for(m=0;m<n;m++)z[e[a+m]]++;for(w=o,v=15;v>=1&&0===z[v];v--);if(w>v&&(w=v),0===v)return i[s++]=20971520,i[s++]=20971520,l.bits=1,0;for(f=1;f<v&&0===z[f];f++);for(w<f&&(w=f),k=1,g=1;g<=15;g++)if(k<<=1,(k-=z[g])<0)return-1;if(k>0&&(0===t||1!==v))return-1;for(D[1]=0,g=1;g<15;g++)D[g+1]=D[g]+z[g];for(m=0;m<n;m++)0!==e[a+m]&&(r[D[e[a+m]]++]=m);if(0===t?(E=S=r,_=19):1===t?(E=ie,A-=257,S=se,L-=257,_=256):(E=re,S=le,_=-1),C=0,m=0,g=f,p=s,y=w,b=0,c=-1,u=(x=1<<w)-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){j=g-b,r[m]<_?(R=0,T=r[m]):r[m]>_?(R=S[L+r[m]],T=E[A+r[m]]):(R=96,T=0),h=1<<g-b,f=d=1<<y;do{i[p+(C>>b)+(d-=h)]=j<<24|R<<16|T|0}while(0!==d);for(h=1<<g-1;C&h;)h>>=1;if(0!==h?(C&=h-1,C+=h):C=0,m++,0==--z[g]){if(g===v)break;g=e[a+r[m]]}if(g>w&&(C&u)!==c){for(0===b&&(b=w),p+=f,k=1<<(y=g-b);y+b<v&&!((k-=z[y+b])<=0);)y++,k<<=1;if(x+=1<<y,1===t&&x>852||2===t&&x>592)return 1;i[c=C&u]=w<<24|y<<16|p-s|0}}return 0!==C&&(i[p+C]=g-b<<24|64<<16|0),l.bits=w,0};const{Z_FINISH:he,Z_BLOCK:de,Z_TREES:ce,Z_OK:ue,Z_STREAM_END:pe,Z_NEED_DICT:_e,Z_STREAM_ERROR:ge,Z_DATA_ERROR:me,Z_MEM_ERROR:fe,Z_BUF_ERROR:ve,Z_DEFLATED:we}=P,ye=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);const be=t=>{if(!t||!t.state)return ge;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ue},ke=t=>{if(!t||!t.state)return ge;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,be(t)},xe=(t,e)=>{let a;if(!t||!t.state)return ge;const n=t.state;return e<0?(a=0,e=-e):(a=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?ge:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=a,n.wbits=e,ke(t))},Ce=(t,e)=>{if(!t)return ge;const a=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0};t.state=a,a.window=null;const n=xe(t,e);return n!==ue&&(t.state=null),n};let Ee,Ae,ze=!0;const De=t=>{if(ze){Ee=new Int32Array(512),Ae=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(oe(1,t.lens,0,288,Ee,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;oe(2,t.lens,0,32,Ae,0,t.work,{bits:5}),ze=!1}t.lencode=Ee,t.lenbits=9,t.distcode=Ae,t.distbits=5},je=(t,e,a,n)=>{let i;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(a-s.wsize,a),0),s.wnext=0,s.whave=s.wsize):((i=s.wsize-s.wnext)>n&&(i=n),s.window.set(e.subarray(a-n,a-n+i),s.wnext),(n-=i)?(s.window.set(e.subarray(a-n,a),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var Re={inflateReset:ke,inflateReset2:xe,inflateResetKeep:be,inflateInit:t=>Ce(t,15),inflateInit2:Ce,inflate:(t,e)=>{let a,n,i,s,r,l,o,h,d,c,u,p,_,g,m,f,v,w,y,b,k,x,C=0;const E=new Uint8Array(4);let A,z;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return ge;12===(a=t.state).mode&&(a.mode=13),r=t.next_out,i=t.output,o=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,h=a.hold,d=a.bits,c=l,u=o,x=ue;t:for(;;)switch(a.mode){case 1:if(0===a.wrap){a.mode=13;break}for(;d<16;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}if(2&a.wrap&&35615===h){a.check=0,E[0]=255&h,E[1]=h>>>8&255,a.check=Z(a.check,E,2,0),h=0,d=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",a.mode=30;break}if((15&h)!==we){t.msg="unknown compression method",a.mode=30;break}if(d-=4,k=8+(15&(h>>>=4)),0===a.wbits)a.wbits=k;else if(k>a.wbits){t.msg="invalid window size",a.mode=30;break}a.dmax=1<<a.wbits,t.adler=a.check=1,a.mode=512&h?10:12,h=0,d=0;break;case 2:for(;d<16;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}if(a.flags=h,(255&a.flags)!==we){t.msg="unknown compression method",a.mode=30;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=30;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,a.check=Z(a.check,E,2,0)),h=0,d=0,a.mode=3;case 3:for(;d<32;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}a.head&&(a.head.time=h),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,E[2]=h>>>16&255,E[3]=h>>>24&255,a.check=Z(a.check,E,4,0)),h=0,d=0,a.mode=4;case 4:for(;d<16;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,a.check=Z(a.check,E,2,0)),h=0,d=0,a.mode=5;case 5:if(1024&a.flags){for(;d<16;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,a.check=Z(a.check,E,2,0)),h=0,d=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&((p=a.length)>l&&(p=l),p&&(a.head&&(k=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(n.subarray(s,s+p),k)),512&a.flags&&(a.check=Z(a.check,n,p,s)),l-=p,s+=p,a.length-=p),a.length))break t;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===l)break t;p=0;do{k=n[s+p++],a.head&&k&&a.length<65536&&(a.head.name+=String.fromCharCode(k))}while(k&&p<l);if(512&a.flags&&(a.check=Z(a.check,n,p,s)),l-=p,s+=p,k)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===l)break t;p=0;do{k=n[s+p++],a.head&&k&&a.length<65536&&(a.head.comment+=String.fromCharCode(k))}while(k&&p<l);if(512&a.flags&&(a.check=Z(a.check,n,p,s)),l-=p,s+=p,k)break t}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;d<16;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}if(h!==(65535&a.check)){t.msg="header crc mismatch",a.mode=30;break}h=0,d=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=12;break;case 10:for(;d<32;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}t.adler=a.check=ye(h),h=0,d=0,a.mode=11;case 11:if(0===a.havedict)return t.next_out=r,t.avail_out=o,t.next_in=s,t.avail_in=l,a.hold=h,a.bits=d,_e;t.adler=a.check=1,a.mode=12;case 12:if(e===de||e===ce)break t;case 13:if(a.last){h>>>=7&d,d-=7&d,a.mode=27;break}for(;d<3;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}switch(a.last=1&h,d-=1,3&(h>>>=1)){case 0:a.mode=14;break;case 1:if(De(a),a.mode=20,e===ce){h>>>=2,d-=2;break t}break;case 2:a.mode=17;break;case 3:t.msg="invalid block type",a.mode=30}h>>>=2,d-=2;break;case 14:for(h>>>=7&d,d-=7&d;d<32;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",a.mode=30;break}if(a.length=65535&h,h=0,d=0,a.mode=15,e===ce)break t;case 15:a.mode=16;case 16:if(p=a.length){if(p>l&&(p=l),p>o&&(p=o),0===p)break t;i.set(n.subarray(s,s+p),r),l-=p,s+=p,o-=p,r+=p,a.length-=p;break}a.mode=12;break;case 17:for(;d<14;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}if(a.nlen=257+(31&h),h>>>=5,d-=5,a.ndist=1+(31&h),h>>>=5,d-=5,a.ncode=4+(15&h),h>>>=4,d-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;d<3;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}a.lens[D[a.have++]]=7&h,h>>>=3,d-=3}for(;a.have<19;)a.lens[D[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,A={bits:a.lenbits},x=oe(0,a.lens,0,19,a.lencode,0,a.work,A),a.lenbits=A.bits,x){t.msg="invalid code lengths set",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;f=(C=a.lencode[h&(1<<a.lenbits)-1])>>>16&255,v=65535&C,!((m=C>>>24)<=d);){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}if(v<16)h>>>=m,d-=m,a.lens[a.have++]=v;else{if(16===v){for(z=m+2;d<z;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}if(h>>>=m,d-=m,0===a.have){t.msg="invalid bit length repeat",a.mode=30;break}k=a.lens[a.have-1],p=3+(3&h),h>>>=2,d-=2}else if(17===v){for(z=m+3;d<z;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}d-=m,k=0,p=3+(7&(h>>>=m)),h>>>=3,d-=3}else{for(z=m+7;d<z;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}d-=m,k=0,p=11+(127&(h>>>=m)),h>>>=7,d-=7}if(a.have+p>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=30;break}for(;p--;)a.lens[a.have++]=k}}if(30===a.mode)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=30;break}if(a.lenbits=9,A={bits:a.lenbits},x=oe(1,a.lens,0,a.nlen,a.lencode,0,a.work,A),a.lenbits=A.bits,x){t.msg="invalid literal/lengths set",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,A={bits:a.distbits},x=oe(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,A),a.distbits=A.bits,x){t.msg="invalid distances set",a.mode=30;break}if(a.mode=20,e===ce)break t;case 20:a.mode=21;case 21:if(l>=6&&o>=258){t.next_out=r,t.avail_out=o,t.next_in=s,t.avail_in=l,a.hold=h,a.bits=d,ne(t,u),r=t.next_out,i=t.output,o=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,h=a.hold,d=a.bits,12===a.mode&&(a.back=-1);break}for(a.back=0;f=(C=a.lencode[h&(1<<a.lenbits)-1])>>>16&255,v=65535&C,!((m=C>>>24)<=d);){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}if(f&&0==(240&f)){for(w=m,y=f,b=v;f=(C=a.lencode[b+((h&(1<<w+y)-1)>>w)])>>>16&255,v=65535&C,!(w+(m=C>>>24)<=d);){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}h>>>=w,d-=w,a.back+=w}if(h>>>=m,d-=m,a.back+=m,a.length=v,0===f){a.mode=26;break}if(32&f){a.back=-1,a.mode=12;break}if(64&f){t.msg="invalid literal/length code",a.mode=30;break}a.extra=15&f,a.mode=22;case 22:if(a.extra){for(z=a.extra;d<z;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;f=(C=a.distcode[h&(1<<a.distbits)-1])>>>16&255,v=65535&C,!((m=C>>>24)<=d);){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}if(0==(240&f)){for(w=m,y=f,b=v;f=(C=a.distcode[b+((h&(1<<w+y)-1)>>w)])>>>16&255,v=65535&C,!(w+(m=C>>>24)<=d);){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}h>>>=w,d-=w,a.back+=w}if(h>>>=m,d-=m,a.back+=m,64&f){t.msg="invalid distance code",a.mode=30;break}a.offset=v,a.extra=15&f,a.mode=24;case 24:if(a.extra){for(z=a.extra;d<z;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=30;break}a.mode=25;case 25:if(0===o)break t;if(p=u-o,a.offset>p){if((p=a.offset-p)>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=30;break}p>a.wnext?(p-=a.wnext,_=a.wsize-p):_=a.wnext-p,p>a.length&&(p=a.length),g=a.window}else g=i,_=r-a.offset,p=a.length;p>o&&(p=o),o-=p,a.length-=p;do{i[r++]=g[_++]}while(--p);0===a.length&&(a.mode=21);break;case 26:if(0===o)break t;i[r++]=a.length,o--,a.mode=21;break;case 27:if(a.wrap){for(;d<32;){if(0===l)break t;l--,h|=n[s++]<<d,d+=8}if(u-=o,t.total_out+=u,a.total+=u,u&&(t.adler=a.check=a.flags?Z(a.check,i,u,r-u):O(a.check,i,u,r-u)),u=o,(a.flags?h:ye(h))!==a.check){t.msg="incorrect data check",a.mode=30;break}h=0,d=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;d<32;){if(0===l)break t;l--,h+=n[s++]<<d,d+=8}if(h!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=30;break}h=0,d=0}a.mode=29;case 29:x=pe;break t;case 30:x=me;break t;case 31:return fe;case 32:default:return ge}return t.next_out=r,t.avail_out=o,t.next_in=s,t.avail_in=l,a.hold=h,a.bits=d,(a.wsize||u!==t.avail_out&&a.mode<30&&(a.mode<27||e!==he))&&je(t,t.output,t.next_out,u-t.avail_out),c-=t.avail_in,u-=t.avail_out,t.total_in+=c,t.total_out+=u,a.total+=u,a.wrap&&u&&(t.adler=a.check=a.flags?Z(a.check,i,u,t.next_out-u):O(a.check,i,u,t.next_out-u)),t.data_type=a.bits+(a.last?64:0)+(12===a.mode?128:0)+(20===a.mode||15===a.mode?256:0),(0===c&&0===u||e===he)&&x===ue&&(x=ve),x},inflateEnd:t=>{if(!t||!t.state)return ge;let e=t.state;return e.window&&(e.window=null),t.state=null,ue},inflateGetHeader:(t,e)=>{if(!t||!t.state)return ge;const a=t.state;return 0==(2&a.wrap)?ge:(a.head=e,e.done=!1,ue)},inflateSetDictionary:(t,e)=>{const a=e.length;let n,i,s;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?ge:11===n.mode&&(i=O(i=1,e,a,0))!==n.check?me:(s=je(t,e,a,a))?(n.mode=31,fe):(n.havedict=1,ue):ge},inflateInfo:"pako inflate (from Nodeca project)"};var Te=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Se=Object.prototype.toString,{Z_NO_FLUSH:Le,Z_FINISH:Fe,Z_OK:Ie,Z_STREAM_END:Ge,Z_NEED_DICT:Ne,Z_STREAM_ERROR:Ue,Z_DATA_ERROR:Be,Z_MEM_ERROR:Oe}=P;function He(t){this.options=Bt.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Mt,this.strm.avail_out=0;let a=Re.inflateInit2(this.strm,e.windowBits);if(a!==Ie)throw new Error(M[a]);if(this.header=new Te,Re.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Zt.string2buf(e.dictionary):"[object ArrayBuffer]"===Se.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=Re.inflateSetDictionary(this.strm,e.dictionary))!==Ie))throw new Error(M[a])}function Ze(t,e){const a=new He(e);if(a.push(t),a.err)throw a.msg||M[a.err];return a.result}He.prototype.push=function(t,e){const a=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,r,l;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Fe:Le,"[object ArrayBuffer]"===Se.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(n),a.next_out=0,a.avail_out=n),(s=Re.inflate(a,r))===Ne&&i&&((s=Re.inflateSetDictionary(a,i))===Ie?s=Re.inflate(a,r):s===Be&&(s=Ne));a.avail_in>0&&s===Ge&&a.state.wrap>0&&0!==t[a.next_in];)Re.inflateReset(a),s=Re.inflate(a,r);switch(s){case Ue:case Be:case Ne:case Oe:return this.onEnd(s),this.ended=!0,!1}if(l=a.avail_out,a.next_out&&(0===a.avail_out||s===Ge))if("string"===this.options.to){let t=Zt.utf8border(a.output,a.next_out),e=a.next_out-t,i=Zt.buf2string(a.output,t);a.next_out=e,a.avail_out=n-e,e&&a.output.set(a.output.subarray(t,t+e),0),this.onData(i)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(s!==Ie||0!==l){if(s===Ge)return s=Re.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},He.prototype.onData=function(t){this.chunks.push(t)},He.prototype.onEnd=function(t){t===Ie&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Bt.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Me={Inflate:He,inflate:Ze,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Ze(t,e)},ungzip:Ze,constants:P};const{Deflate:Pe,deflate:Ve,deflateRaw:We,gzip:qe}=ae,{Inflate:$e,inflate:Ke,inflateRaw:Xe,ungzip:Ye}=Me;var Je=Pe,Qe=Ve,ta=We,ea=qe,aa=$e,na=Ke,ia=Xe,sa=Ye,ra=P,la={Deflate:Je,deflate:Qe,deflateRaw:ta,gzip:ea,Inflate:aa,inflate:na,inflateRaw:ia,ungzip:sa,constants:ra};e.default=la},gixU:function(t,e){},"k/9v":function(t,e){},pfq6:function(t,e){},uslO:function(t,e,a){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-in":"yJfC","./en-in.js":"yJfC","./en-nz":"dyB6","./en-nz.js":"dyB6","./en-sg":"NYST","./en-sg.js":"NYST","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fil":"rMbQ","./fil.js":"rMbQ","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-deva":"VGQH","./gom-deva.js":"VGQH","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./oc-lnc":"KOFO","./oc-lnc.js":"KOFO","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tk":"+WRH","./tk.js":"+WRH","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-mo":"+WA1","./zh-mo.js":"+WA1","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return a(s(t))}function s(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id="uslO"},ymcE:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.afb22e78537fb8b57611.js.map